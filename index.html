

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>famafrench 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html#document-index" class="icon icon-home"> famafrench
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-whatsnew/whatsnew">What's New?!</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-gettingstarted/gettingstarted">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#creating-an-instance-of-the-famafrench-class">Creating an Instance of the <code class="docutils literal notranslate"><span class="pre">FamaFrench</span></code> Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-applications/applications">Applications and Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#fama-french-3-factors">Fama-French 3 Factors</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#fama-french-5-factors">Fama-French 5 Factors</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#momentum-short-term-reversal-and-long-term-reversal-factor">Momentum, Short-Term Reversal, and Long-Term Reversal Factor</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-size-me">Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-book-to-market-bm">Portfolios Sorted on <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-operating-profitability-op">Portfolios Sorted on <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-investment-inv">Portfolios Sorted on <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-size-me-book-to-market-bm">Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> &amp; <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-size-me-operating-profitability-op">Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> &amp; <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-size-me-investment-inv">Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> &amp; <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-book-to-market-bm-operating-profitability-op">Portfolios Sorted on <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code> &amp; <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-book-to-market-bm-investment-inv">Portfolios Sorted on <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code> &amp; <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#portfolios-sorted-on-operating-profitability-op-investment-inv">Portfolios Sorted on <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code> &amp; <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-wrdsconnection/wrdsconnection">Connecting to the WRDS cloud server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdsconnection/generated/famafrench.wrdsconnect.wrdsConnection">famafrench.wrdsconnect.wrdsConnection</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-wrdscloudquery/wrdscloudquery">WRDS Query Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdscloudquery/generated/famafrench.FamaFrench.queryComp">famafrench.FamaFrench.queryComp</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdscloudquery/generated/famafrench.FamaFrench.queryCrsp">famafrench.FamaFrench.queryCrsp</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdscloudquery/generated/famafrench.FamaFrench.queryCrspdlret">famafrench.FamaFrench.queryCrspdlret</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdscloudquery/generated/famafrench.FamaFrench.queryrf1m">famafrench.FamaFrench.queryrf1m</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdscloudquery/generated/famafrench.FamaFrench.getCrspDailyRollVar">famafrench.FamaFrench.getCrspDailyRollVar</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdscloudquery/generated/famafrench.FamaFrench.aggregateME">famafrench.FamaFrench.aggregateME</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdscloudquery/generated/famafrench.FamaFrench.getMEDec">famafrench.FamaFrench.getMEDec</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdscloudquery/generated/famafrench.FamaFrench.getMEJune">famafrench.FamaFrench.getMEJune</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-wrdscloudquery/generated/famafrench.FamaFrench.mergeCCM">famafrench.FamaFrench.mergeCCM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-portfolios/factorregressions">Estimating Market Betas and Rolling Residual Variances</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-portfolios/generated/famafrench.FamaFrench.getFactorRegResults">famafrench.FamaFrench.getFactorRegResults</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-portfolios/portfoliosorting">Constructing Portfolios and Return-Based Factors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-portfolios/generated/famafrench.FamaFrench.getNyseThresholdsAndRet">famafrench.FamaFrench.getNyseThresholdsAndRet</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-portfolios/generated/famafrench.FamaFrench.getPortfolios">famafrench.FamaFrench.getPortfolios</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-portfolios/generated/famafrench.FamaFrench.getPortfolioReturns">famafrench.FamaFrench.getPortfolioReturns</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-portfolios/generated/famafrench.FamaFrench.getNumFirms">famafrench.FamaFrench.getNumFirms</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-portfolios/generated/famafrench.FamaFrench.getCharacs">famafrench.FamaFrench.getCharacs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-portfolios/generated/famafrench.FamaFrench.getFFfactors">famafrench.FamaFrench.getFFfactors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-kflibrary/kflibrary">Comparing to Ken French's Online Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-kflibrary/generated/famafrench.FamaFrench.kfLibrary">famafrench.FamaFrench.kfLibrary</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-kflibrary/generated/famafrench.FamaFrench.getkfPortfolioReturns">famafrench.FamaFrench.getkfPortfolioReturns</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-kflibrary/generated/famafrench.FamaFrench.getkfNumFirms">famafrench.FamaFrench.getkfNumFirms</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-kflibrary/generated/famafrench.FamaFrench.getkfCharacs">famafrench.FamaFrench.getkfCharacs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-kflibrary/generated/famafrench.FamaFrench.getkfFFfactors">famafrench.FamaFrench.getkfFFfactors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-statistics-diagnostics/statistics">Summary Statistics and Diagnostics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-statistics-diagnostics/generated/famafrench.FamaFrench.getFamaFrenchStats">famafrench.FamaFrench.getFamaFrenchStats</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-statistics-diagnostics/generated/famafrench.FamaFrench.comparePortfolios">famafrench.FamaFrench.comparePortfolios</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-utils/utils">Auxiliary Functions and Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-utils/generated/famafrench.utils.lru_cached_method">famafrench.utils.lru_cached_method</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-utils/generated/famafrench.utils.get_kfpriorfactors_directly">famafrench.utils.get_kfpriorfactors_directly</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-utils/generated/famafrench.utils.timing">famafrench.utils.timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-utils/generated/famafrench.utils.any_in">famafrench.utils.any_in</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-utils/generated/famafrench.utils.priormonthToDay">famafrench.utils.priormonthToDay</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-utils/generated/famafrench.utils.grouped_vwAvg">famafrench.utils.grouped_vwAvg</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-utils/generated/famafrench.utils.portRetAvg">famafrench.utils.portRetAvg</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-utils/generated/famafrench.utils.get_statsTable">famafrench.utils.get_statsTable</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-api">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#famafrench-constructor"><code class="docutils literal notranslate"><span class="pre">FamaFrench</span></code> Constructor</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#wrdsconnection-constructor"><code class="docutils literal notranslate"><span class="pre">wrdsConnection</span></code> Constructor</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#connecting-to-wrds-cloud">Connecting to <code class="docutils literal notranslate"><span class="pre">wrds-cloud</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#wrds-cloud-query-tools"><code class="docutils literal notranslate"><span class="pre">wrds-cloud</span></code> Query Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#estimating-market-betas-and-rolling-residual-variances">Estimating Market Betas and Rolling Residual Variances</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#constructing-portfolios-and-return-based-factors">Constructing Portfolios and Return-Based Factors</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#comparing-to-ken-french-s-online-library">Comparing to Ken French’s Online Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#summary-statistics-and-diagnostics">Summary Statistics and Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#auxiliary-functions-and-utilities">Auxiliary Functions and Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-changes/changes">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-0-beta">Version 0 (Beta)</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html#document-index">famafrench</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html#document-index">Docs</a> &raquo;</li>
        
      <li>famafrench 0.1.0 documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="famafrench-package-documentation">
<span id="overview"></span><h1><code class="docutils literal notranslate"><span class="pre">famafrench</span></code> - Package Documentation<a class="headerlink" href="#famafrench-package-documentation" title="Permalink to this headline">¶</a></h1>
<p>Toolbox for constructing and replicating datasets from <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online data library</a> by accessing <a class="reference external" href="https://wrds-www.wharton.upenn.edu/">WRDS</a> remotely through its cloud server.</p>
<p><code class="docutils literal notranslate"><span class="pre">famafrench</span></code>’s current efficient performance results from features such as the use of a <a class="reference external" href="https://medium.com/lambda-automotive/python-and-lru-cache-f812bbdcbb51">least recently used (LRU) cache</a> implemented using Python’s <a class="reference external" href="https://docs.python.org/3/library/functools.html#functools.lru_cache" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.lru_cache()</span></code></a>.</p>
<p>Future plans are to continue to expand the toolbox to include additional factor-based datasets relevant for empirical asset pricing. These include the following:</p>
<ul>
<li><p><a class="reference external" href="https://www.aqr.com/library/data-sets">AQR Capital Management’s</a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>Betting Against Beta</cite> (BAB)</p></li>
<li><p><cite>Quality Minus Junk</cite> (QMJ)</p></li>
<li><p><cite>Modified Value - High Minus Low</cite> (HMLD)</p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://onlinelibrary.wiley.com/doi/abs/10.1111/jofi.12772">Lettau, Ludvigson, and Ma (2019)</a> Capital Share Factor:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>Capital Share of Aggregate Income</cite> (KS)</p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://faculty.chicagobooth.edu/-/media/faculty/lubos-pastor/data/liq_data_1962_2019.txt">Pastor and Stambaugh (2003)</a> Liquidity Factors:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>Non-Traded Liquidity Factor</cite></p></li>
<li><p><cite>Traded Liquidity Factor</cite></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://drive.google.com/file/d/1hTnBk7uasanA3x1gRFBNg6hFE1A0JJEO/view">Sadka (2006)</a> Liquidity Factors:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>Fixed-Transitory Factor</cite></p></li>
<li><p><cite>Variable-Permanent Factor</cite></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://academic.oup.com/rfs/article/30/4/1270/2965095">Stambaugh and Yuan (2017)</a> <cite>Clustered</cite> Mispricing Factors:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>Management-related Factor</cite> (MGMT)</p></li>
<li><p><cite>Performance-related Factor</cite> (PERF)</p></li>
<li><p><cite>Mispricing (non-clustered) Factor</cite> (UMO)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Please reach out if you have any recommendations or suggestions for improvements. Collaborations are welcomed - reach out at <strong>chris.jauregui&#64;berkeley.edu</strong>!</p>
<div class="section" id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>What’s New?!</p></li>
<li><p>Getting Started</p></li>
<li><p>Applications and Examples</p></li>
<li><p>Connecting to the WRDS cloud server</p></li>
<li><p>WRDS Query Tools</p></li>
<li><p>Estimating Market Betas and Rolling Residual Variances</p></li>
<li><p>Constructing Portfolios and Return-Based Factors</p></li>
<li><p>Comparing to Ken French’s Online Library</p></li>
<li><p>Summary Statistics and Diagnostics</p></li>
<li><p>Auxiliary Functions and Utilities</p></li>
<li><p>API Reference</p></li>
<li><p>Change Log</p></li>
</ul>
<div class="toctree-wrapper compound">
<span id="document-whatsnew/whatsnew"></span><div class="section" id="what-s-new">
<span id="whatsnew"></span><h3>What’s New?!<a class="headerlink" href="#what-s-new" title="Permalink to this headline">¶</a></h3>
<p>Look out for new features and/or improvements as new releases are made public!</p>
<p>The current release (<a class="reference internal" href="index.html#release-0-1-0"><span class="std std-ref">Release 0.1.0</span></a>) as of April 20, 2020 is the initial release.</p>
</div>
<span id="document-gettingstarted/gettingstarted"></span><div class="section" id="getting-started">
<span id="gettingstarted"></span><h3>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h3>
<div class="section" id="overview">
<h4>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h4>
<p>The main tool provided by the package is the <code class="docutils literal notranslate"><span class="pre">FamaFrench</span></code> class that enables its user to construct
a multitude of datasets found in <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online library</a> as well as many others.</p>
<p>Datasets include portfolio returns (<cite>value</cite>- or <cite>equal</cite>-weighted), number of firms in each portfolio, or <cite>average</cite> anomaly portfolio characteristics. The sample dataset will be for a pre-specified frequency and range of dates characterized by a start and end date.</p>
<p>In addition, and of utmost interest to most users, the <code class="docutils literal notranslate"><span class="pre">FamaFrench</span></code> class enables one to construct some of the most studied Fama-French-style factors:</p>
<blockquote>
<div><ul class="simple">
<li><p>Market Premium (<code class="docutils literal notranslate"><span class="pre">MKT-RF</span></code>)</p></li>
<li><p>Small Minus Big (<code class="docutils literal notranslate"><span class="pre">SMB</span></code>)</p></li>
<li><p>High Minus Low (<code class="docutils literal notranslate"><span class="pre">HML</span></code>)</p></li>
<li><p>Momentum based on Prior (2-12) returns (<code class="docutils literal notranslate"><span class="pre">MOM</span></code>)</p></li>
<li><p>Short-Term Reversal based on Prior (1-1) returns (<code class="docutils literal notranslate"><span class="pre">ST_Rev</span></code>)</p></li>
<li><p>Long-Term Reversal based on Prior (13-60) returns (<code class="docutils literal notranslate"><span class="pre">LT_Rev</span></code>)</p></li>
</ul>
</div></blockquote>
<p>In almost all applications, the package requires the use of the constructor function <code class="xref py py-class docutils literal notranslate"><span class="pre">FamaFrench</span></code>:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench" title="famafrench.FamaFrench"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FamaFrench</span></code></a></p></td>
<td><p><p>Class providing tools for constructing and replicating datasets from <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online library</a> via queries to CRSP, Compustat Fundamentals Annual, and other sources accessed through <a class="reference external" href="https://wrds-www.wharton.upenn.edu/">wrds-cloud</a>.</p>
</p></td>
</tr>
</tbody>
</table>
<p>The constructor function makes use of an altered set of routines borrowed from the <a class="reference external" href="https://github.com/wharton/wrds">WRDS-Py library</a> to query <a class="reference external" href="http://www.crsp.org/products/research-products/crsp-us-stock-databases">CRSP</a>, <a class="reference external" href="https://wrds-web.wharton.upenn.edu/wrds/support/Data/_001Manuals%20and%20Overviews/_001Compustat/_001North%20America%20-%20Global%20-%20Bank/_000dataguide/index.cfm0">Compustat Fundamentals Annual</a>, and other datafiles provided by <cite>Wharton Research Data Services</cite> <a class="reference external" href="https://wrds-web.wharton.upenn.edu/wrds/support/">(WRDS)</a>. To use the <code class="docutils literal notranslate"><span class="pre">famafrench</span></code> package, a user <strong>must</strong> have a subscription to both CRSP and Compustat Fundamentals Annual through WRDS. See <a class="reference internal" href="index.html#connecting-to-wrds-cloud"><span class="std std-ref">Connecting to wrds-cloud</span></a>.</p>
<p>Alterations of routines borrowed from the <a class="reference external" href="https://github.com/wharton/wrds">WRDS-Py library</a> enable a user with access to WRDS to add his/her WRDS username and password to their local environment. This is achieved through the use of environment variables via <code class="xref py py-func docutils literal notranslate"><span class="pre">os.environ()</span></code>, a mapping object in Python’s <a class="reference external" href="https://docs.python.org/3/library/os.html#module-os" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code></a> module that represents the user’s environment variables. Environment variables provide secure means of storing usernames and passwords. Use of and modifications to the <a class="reference external" href="https://github.com/wharton/wrds">WRDS-Py library</a> abide by its permissive MIT license (see <a class="reference external" href="https://github.com/christianjauregui/famafrench/blob/master/LICENSE">LICENSE</a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To securely set up the WRDS username and password as environment variables:</p>
<ol class="arabic simple">
<li><p>If it does not exist already, create an <code class="docutils literal notranslate"><span class="pre">.env</span></code> file in your home directory. This should be the same directory where <code class="docutils literal notranslate"><span class="pre">~/.bash_profile</span></code> is stored.</p></li>
<li><p>Open <code class="docutils literal notranslate"><span class="pre">~/.bash_profile</span></code> and add the following: <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">~/.env</span></code>. In <code class="docutils literal notranslate"><span class="pre">.env</span></code>, you add your WRDS username and password as environment variables as follows:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">WRDS_USERNAME</span><span class="o">=</span><span class="s2">&quot;FILL IN&quot;</span>
<span class="nb">export</span> <span class="nv">WRDS_PASSWORD</span><span class="o">=</span><span class="s2">&quot;FILL IN&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>This can also be done directly in Python:</p></li>
</ol>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;WRDS_USERNAME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;FILL IN&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;WRDS_PASSWORD&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;FILL IN&quot;</span>
</pre></div>
</div>
</div>
<p>Having set up the WRDS username and password, connecting remotely to WRDS through <cite>wrds-cloud</cite> is made
simple through the constructor <a class="reference internal" href="index.html#famafrench.wrdsconnect.wrdsConnection" title="famafrench.wrdsconnect.wrdsConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">wrdsConnection</span></code></a>. This constructor is repeatedly used within the main package constructor <a class="reference internal" href="index.html#famafrench.FamaFrench" title="famafrench.FamaFrench"><code class="xref py py-class docutils literal notranslate"><span class="pre">FamaFrench</span></code></a>.</p>
</div>
<div class="section" id="creating-an-instance-of-the-famafrench-class">
<h4>Creating an Instance of the <code class="docutils literal notranslate"><span class="pre">FamaFrench</span></code> Class<a class="headerlink" href="#creating-an-instance-of-the-famafrench-class" title="Permalink to this headline">¶</a></h4>
<p>Instances of the <a class="reference internal" href="index.html#famafrench.FamaFrench" title="famafrench.FamaFrench"><code class="xref py py-class docutils literal notranslate"><span class="pre">FamaFrench</span></code></a> object will vary depending on whether the user wants to construct Fama-French-style factors <strong>or</strong> portfolio returns (<cite>value</cite>- or <cite>equal</cite>-weighted), number of firms in each portfolio, and <cite>average</cite> anomaly portfolio characteristics.</p>
<p>For both types of instances, the frequency of portfolios <code class="xref py py-attr docutils literal notranslate"><span class="pre">freqType</span></code> as well as the starting and ending dates must be specified. Both starting and ending dates must be in <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.date</span></code></a> format. In addition, attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">runQuery</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> depending on whether the user prefers to query all datafiles from <cite>wrds-cloud</cite> from scratch or whether previously queried and locally-saved datafiles are pickled in constructing the instance. The latter choice is particularly useful when updating data following a new set of observation points released by WRDS. Making use of previously queried and locally-saved datafiles significantly speeds up run-time and execution of code.</p>
<p>For example, to construct the <strong>Fama-French 3 factors</strong>: the <cite>Market Premium</cite> <code class="docutils literal notranslate"><span class="pre">MKT-RF</span></code>, <cite>Small Minus Big</cite> <code class="docutils literal notranslate"><span class="pre">SMB</span></code>, and <cite>High Minus Low</cite> <code class="docutils literal notranslate"><span class="pre">HML</span></code>, at the monthly frequency (from 1970 to the present, or the most recent date for which there is stock returns data available in CRPS), we execute the following lines of Python code:</p>
<p><strong>Fama-French 3 Factors:</strong></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="gp">In [2]: </span><span class="kn">import</span> <span class="nn">famafrench.famafrench</span> <span class="k">as</span> <span class="nn">ff</span>

<span class="gp">In [3]: </span><span class="n">startDate</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">In [4]: </span><span class="n">endDate</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="gp">In [5]: </span><span class="n">runQuery</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;M&#39;</span>
<span class="gp">In [7]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKT-RF&#39;</span><span class="p">,</span> <span class="s1">&#39;SMB&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">]</span>
<span class="gp">In [9]: </span><span class="n">ff3</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">factorsTableM</span> <span class="o">=</span> <span class="n">ff3</span><span class="o">.</span><span class="n">getFFfactors</span><span class="p">(</span><span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">CRSP-Compustat merged linktable currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 2/2 [00:03&lt;00:00,  1.73s/it]</span>
<span class="go">Historical risk-free interest rate (monthly) dataset currently NOT saved locally. Querying from wrds-cloud...</span>

<span class="gp">In [11]: </span><span class="n">factorsTableM</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[11]:</span>
<span class="go">                 mkt    mkt-rf       smb       hml</span>
<span class="go">date</span>
<span class="go">1970-01-31 -0.074878 -0.080878  0.031418  0.027965</span>
<span class="go">1970-02-28  0.057439  0.051239 -0.025979  0.040931</span>
<span class="go">1970-03-31 -0.004881 -0.010581 -0.018887  0.041828</span>
<span class="go">1970-04-30 -0.104866 -0.109866 -0.058987  0.064264</span>
<span class="go">1970-05-31 -0.063964 -0.069264 -0.046954  0.034585</span>
</pre></div>
</div>
<ul class="simple">
<li><p>To construct Fama-French-style factors, <code class="xref py py-attr docutils literal notranslate"><span class="pre">factorsId</span></code> must be passed as a list of strings with the names of the factors (per the naming convention outlined in the documentation for <a class="reference internal" href="index.html#famafrench.FamaFrench" title="famafrench.FamaFrench"><code class="xref py py-class docutils literal notranslate"><span class="pre">FamaFrench</span></code></a>).</p></li>
<li><p>Although one can pass the anomaly portfolio characteristics used for portfolio sorting in the construction of the factors, <code class="xref py py-attr docutils literal notranslate"><span class="pre">sortCharacsId</span></code>, the constructor does not require this. Here, <code class="xref py py-attr docutils literal notranslate"><span class="pre">mainCharacsId</span></code> is also not required for obvious reasons (when omitted, <code class="xref py py-attr docutils literal notranslate"><span class="pre">mainCharacsId</span></code> is set to <code class="xref py py-attr docutils literal notranslate"><span class="pre">sortCharacsId</span></code> by default).</p></li>
</ul>
<p>We can compare the constructed factors to those provided by <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/f-f_factors.html">Ken French</a>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">kffactorsTableM</span> <span class="o">=</span> <span class="n">ff3</span><span class="o">.</span><span class="n">getkfFFfactors</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">)</span>
<span class="gp">In [13]: </span><span class="n">kffactorsTableM</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[13]:</span>
<span class="go">               mkt  mkt-rf     smb     hml</span>
<span class="go">1970-01-31 -0.0750 -0.0810  0.0290  0.0304</span>
<span class="go">1970-02-28  0.0575  0.0513 -0.0240  0.0404</span>
<span class="go">1970-03-31 -0.0049 -0.0106 -0.0232  0.0425</span>
<span class="go">1970-04-30 -0.1050 -0.1100 -0.0611  0.0639</span>
<span class="go">1970-05-31 -0.0639 -0.0692 -0.0452  0.0360</span>

<span class="gp">In [14]: </span><span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="o">=</span> <span class="n">ff3</span><span class="o">.</span><span class="n">comparePortfolios</span><span class="p">(</span><span class="n">kfType</span><span class="o">=</span><span class="s1">&#39;Factors&#39;</span><span class="p">,</span> <span class="n">kfFreq</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">CRSP-Compustat merged linktable currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 2/2 [00:03&lt;00:00,  1.78s/it]</span>
<span class="go">Historical risk-free interest rate (monthly) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">*********************************** Factor Returns: 1970-01-31 to 2020-02-29 ***********************************</span>

<span class="go">   *********************** Observation frequency: M ************************</span>
<span class="go">Fama-French factors: Correlation matrix:</span>
<span class="go">        mkt  mkt-rf    smb    hml</span>
<span class="go">corr:  1.0     1.0  0.991  0.984</span>

<span class="go">Fama-French factors: Average matrix:</span>
<span class="go">                          mkt        mkt-rf           smb         hml</span>
<span class="go">[wrds, kflib]:  [0.93, 0.93]  [0.55, 0.55]  [0.13, 0.12]  [0.3, 0.3]</span>

<span class="go">Fama-French factors: Std Deviation matrix:</span>
<span class="go">                        mkt        mkt-rf           smb           hml</span>
<span class="go">[wrds, kflib]:  [4.5, 4.5]  [4.51, 4.51]  [3.05, 3.06]  [2.98, 2.92]</span>

<span class="go">Elapsed time:  68.613  seconds.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The instance method <code class="xref py py-meth docutils literal notranslate"><span class="pre">comparePortfolios()</span></code> compares our constructed factors with those provided by French over the same sample period. Current output of the method includes sample <cite>Pearson correlations</cite>, sample <cite>means</cite>, and sample <cite>standard deviations</cite> for the sample period.</p></li>
</ul>
<p><strong>Other examples:</strong> To form the 6 (ie 2 x 3) monthly, portfolios (also from 1970 to the present, or the most recent date for which there is stock returns data available in CRPS) sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> and <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code> and construct the <cite>value</cite>-weighted portfolio returns, number of firms in each portfolio, and the <cite>average</cite> anomaly portfolio characteristics used in the construction of the portfolios: market value of equity <code class="docutils literal notranslate"><span class="pre">ME</span></code> and book-to-market equity <code class="docutils literal notranslate"><span class="pre">BM</span></code>, we execute the following lines of Python code:</p>
<p><cite>Value</cite> <strong>-weighted portfolio returns:</strong></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="gp">In [2]: </span><span class="kn">import</span> <span class="nn">famafrench.famafrench</span> <span class="k">as</span> <span class="nn">ff</span>

<span class="gp">In [3]: </span><span class="n">startDate</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">In [4]: </span><span class="n">endDate</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="gp">In [5]: </span><span class="n">runQuery</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;M&#39;</span>
<span class="gp">In [7]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">retType</span> <span class="o">=</span> <span class="s1">&#39;vw&#39;</span>

<span class="gp">In [9]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">In [11]: </span><span class="n">me_bm_2x3</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">)</span>

<span class="gp">In [12]: </span><span class="n">returnsTableM</span> <span class="o">=</span> <span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">getPortfolioReturns</span><span class="p">(</span><span class="n">factorsBool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">,</span> <span class="n">pDim</span><span class="o">=</span><span class="n">sortingDim</span><span class="p">,</span> <span class="n">pRetType</span><span class="o">=</span><span class="n">retType</span><span class="p">)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>

<span class="gp">In [13]: </span><span class="n">returnsTableM</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">Out [13]:</span>
<span class="go">            me0-50_bm0-30  me0-50_bm30-70  ...  me50-100_bm30-70  me50-100_bm70-100</span>
<span class="go">date                                       ...</span>
<span class="go">1970-01-31      -0.075423       -0.066817  ...         -0.072045          -0.079993</span>
<span class="go">1970-02-28       0.035483        0.030274  ...          0.071287           0.076770</span>
<span class="go">1970-03-31      -0.049978        0.000497  ...          0.016178           0.011756</span>
<span class="go">1970-04-30      -0.200480       -0.140580  ...         -0.087627          -0.074118</span>
<span class="go">1970-05-31      -0.110463       -0.101711  ...         -0.059225          -0.022641</span>

<span class="gp">In [14]: </span><span class="n">kfreturnsTableM</span> <span class="o">=</span> <span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">getkfPortfolioReturns</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="n">sortingDim</span><span class="p">,</span> <span class="n">retType</span><span class="o">=</span><span class="n">retType</span><span class="p">)</span>
<span class="gp">In [15]: </span><span class="n">kfreturnsTableM</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">Out [15]:</span>
<span class="go">            small lobm   me1 bm2  small hibm  big lobm   me2 bm2  big hibm</span>
<span class="go">1970-01-31   -0.060745 -0.051124   -0.023747 -0.080621 -0.085096 -0.056797</span>
<span class="go">1970-02-28    0.025803  0.035260    0.061994  0.036058  0.078464  0.080637</span>
<span class="go">1970-03-31   -0.053084 -0.011075    0.001495 -0.019099  0.014691  0.011248</span>
<span class="go">1970-04-30   -0.208565 -0.139240   -0.111768 -0.105894 -0.095480 -0.074793</span>
<span class="go">1970-05-31   -0.114140 -0.105260   -0.079967 -0.079879 -0.041648 -0.042096</span>

<span class="gp">In [16]: </span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="o">=</span> <span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">comparePortfolios</span><span class="p">(</span><span class="n">kfType</span><span class="o">=</span><span class="s1">&#39;Returns&#39;</span><span class="p">,</span> <span class="n">kfFreq</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">,</span> <span class="n">kfDim</span><span class="o">=</span><span class="n">sortingDim</span><span class="p">,</span> <span class="n">kfRetType</span><span class="o">=</span><span class="n">retType</span><span class="p">)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">*********************************** ME x BM (2 x 3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* Returns: 1970-01-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">          bm0-30 bm30-70 bm70-100</span>
<span class="go">me0-50    0.992   0.996    0.993</span>
<span class="go">me50-100  0.998   0.993    0.991</span>

<span class="go">Average matrix:</span>
<span class="go">                   bm0-30         bm30-70        bm70-100</span>
<span class="go">me0-50    [0.82%, 0.83%]  [1.17%, 1.19%]   [1.3%, 1.29%]</span>
<span class="go">me50-100  [0.92%, 0.93%]  [0.98%, 0.95%]  [1.06%, 1.07%]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                   bm0-30         bm30-70        bm70-100</span>
<span class="go">me0-50    [6.84%, 6.82%]  [5.45%, 5.42%]  [5.66%, 5.61%]</span>
<span class="go">me50-100  [4.65%, 4.67%]  [4.36%, 4.38%]  [5.02%, 4.93%]</span>

<span class="go">Elapsed time:  66.627  seconds.</span>
</pre></div>
</div>
<p><strong>Number of firms in each portfolio:</strong></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">firmsTableM</span> <span class="o">=</span> <span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">getNumFirms</span><span class="p">(</span><span class="n">factorsBool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">,</span> <span class="n">pDim</span><span class="o">=</span><span class="n">sortingDim</span><span class="p">)</span>
<span class="gp">In [17]: </span><span class="n">firmsTableM</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">Out [17]:</span>
<span class="go">            me0-50_bm0-30  me0-50_bm30-70  ...  me50-100_bm30-70  me50-100_bm70-100</span>
<span class="go">date                                       ...</span>
<span class="go">1970-01-31            396             499  ...                90                121</span>
<span class="go">1970-02-28            395             499  ...                90                121</span>
<span class="go">1970-03-31            396             499  ...                90                121</span>
<span class="go">1970-04-30            396             499  ...                90                121</span>
<span class="go">1970-05-31            394             499  ...                90                121</span>

<span class="gp">In [18]: </span><span class="n">kffirmsTableM</span> <span class="o">=</span> <span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">getkfNumFirms</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="n">sortingDim</span><span class="p">)</span>
<span class="gp">In [19]: </span><span class="n">kffirmsTableM</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">Out [19]:</span>
<span class="go">            small lobm  me1 bm2  small hibm  big lobm  me2 bm2  big hibm</span>
<span class="go">1970-01-31         475      400         297       211      246       143</span>
<span class="go">1970-02-28         475      399         297       211      246       143</span>
<span class="go">1970-03-31         474      399         297       211      246       141</span>
<span class="go">1970-04-30         472      397         296       211      246       141</span>
<span class="go">1970-05-31         470      395         296       211      246       141</span>

<span class="gp">In [20]: </span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="o">=</span> <span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">comparePortfolios</span><span class="p">(</span><span class="n">kfType</span><span class="o">=</span><span class="s1">&#39;NumFirms&#39;</span><span class="p">,</span> <span class="n">kfFreq</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">,</span> <span class="n">kfDim</span><span class="o">=</span><span class="n">sortingDim</span><span class="p">)</span>

<span class="go">*********************************** ME x BM (2 x 3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* NumFirms: 1970-01-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">          bm0-30 bm30-70 bm70-100</span>
<span class="go">me0-50    0.986   0.933    0.965</span>
<span class="go">me50-100  0.876    0.76    0.892</span>

<span class="go">Average matrix:</span>
<span class="go">                bm0-30       bm30-70      bm70-100</span>
<span class="go">me0-50    [995, 1011]  [1012, 1024]  [1178, 1153]</span>
<span class="go">me50-100   [373, 381]    [308, 316]    [138, 144]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">               bm0-30     bm30-70    bm70-100</span>
<span class="go">me0-50    [427, 407]  [286, 261]  [420, 369]</span>
<span class="go">me50-100   [102, 87]    [58, 41]    [33, 28]</span>

<span class="go">Elapsed time:  4.93  seconds.</span>
</pre></div>
</div>
<p><cite>Equal</cite> <strong>-weighted average firm size</strong> <code class="docutils literal notranslate"><span class="pre">ME</span></code> <strong>and</strong> <cite>Value</cite> <strong>-weighted average</strong> <code class="docutils literal notranslate"><span class="pre">BM</span></code> <strong>for each portfolio:</strong></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">characsTableM</span> <span class="o">=</span> <span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">getCharacs</span><span class="p">(</span><span class="n">factorsBool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">,</span> <span class="n">pDim</span><span class="o">=</span><span class="n">sortingDim</span><span class="p">)</span>
<span class="gp">In [17]: </span><span class="k">for</span> <span class="n">charac</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">mainCharacsId</span><span class="p">)):</span>
<span class="go">             print(charac, &#39;\n&#39;, characsTableM[charac].head())</span>

<span class="go">ME</span>

<span class="go">me_bm_port  me0-50_bm0-30  me0-50_bm30-70  ...  me50-100_bm30-70  me50-100_bm70-100</span>
<span class="go">date                                       ...</span>
<span class="go">1970-01-31      80.534648         88.4552  ...       1514.275631        1553.468291</span>
<span class="go">1970-02-28      80.631874         88.4552  ...       1514.275631        1553.468291</span>
<span class="go">1970-03-31      80.589856         88.4552  ...       1514.275631        1553.468291</span>
<span class="go">1970-04-30      80.657533         88.4552  ...       1514.275631        1553.468291</span>
<span class="go">1970-05-31      80.685602         88.4552  ...       1514.275631        1553.468291</span>

<span class="go">[5 rows x 6 columns]</span>
<span class="go">BM</span>

<span class="go">me_bm_port  me0-50_bm0-30  me0-50_bm30-70  ...  me50-100_bm30-70  me50-100_bm70-100</span>
<span class="go">date                                       ...</span>
<span class="go">1970-01-31       0.154248        0.372900  ...          0.369096           0.722310</span>
<span class="go">1970-02-28       0.154723        0.373592  ...          0.370108           0.723227</span>
<span class="go">1970-03-31       0.154757        0.374245  ...          0.370769           0.724581</span>
<span class="go">1970-04-30       0.155672        0.375810  ...          0.370403           0.724732</span>
<span class="go">1970-05-31       0.154938        0.376080  ...          0.370257           0.723313</span>

<span class="go">[5 rows x 6 columns]</span>

<span class="gp">In [18]: </span><span class="n">kfcharacsTableM</span> <span class="o">=</span> <span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">getkfCharacs</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="n">sortingDim</span><span class="p">)</span>
<span class="gp">In [19]: </span><span class="k">for</span> <span class="n">charac</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">mainCharacsId</span><span class="p">)):</span>
<span class="go">             print(charac, &#39;\n&#39;, kfcharacsTableM[charac].head())</span>
<span class="go">ME</span>

<span class="go">            small lobm  me1 bm2  small hibm  big lobm  me2 bm2  big hibm</span>
<span class="go">1970-01-31       45.73    39.19       41.70   1131.57   706.41    771.55</span>
<span class="go">1970-02-28       42.91    37.14       40.61   1039.82   645.16    725.75</span>
<span class="go">1970-03-31       44.04    38.31       42.95   1074.20   691.17    785.33</span>
<span class="go">1970-04-30       41.71    37.91       43.00   1052.42   699.74    792.46</span>
<span class="go">1970-05-31       32.85    32.50       38.09    940.38   632.27    731.43</span>
<span class="go">BM</span>

<span class="go">            small lobm  me1 bm2  small hibm  big lobm  me2 bm2  big hibm</span>
<span class="go">1970-01-31      0.1952   0.4649      0.9195    0.1900   0.4962    0.8532</span>
<span class="go">1970-02-28      0.1963   0.4661      0.9226    0.1909   0.4955    0.8570</span>
<span class="go">1970-03-31      0.1966   0.4662      0.9243    0.1912   0.4949    0.8521</span>
<span class="go">1970-04-30      0.1979   0.4671      0.9213    0.1922   0.4948    0.8521</span>
<span class="go">1970-05-31      0.2010   0.4684      0.9222    0.1931   0.4953    0.8512</span>

<span class="gp">In [20]: </span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="o">=</span> <span class="n">me_bm_2x3</span><span class="o">.</span><span class="n">comparePortfolios</span><span class="p">(</span><span class="n">kfType</span><span class="o">=</span><span class="s1">&#39;NumFirms&#39;</span><span class="p">,</span> <span class="n">kfFreq</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">dt_start</span><span class="o">=</span><span class="n">startDate</span><span class="p">,</span> <span class="n">dt_end</span><span class="o">=</span><span class="n">endDate</span><span class="p">,</span> <span class="n">kfDim</span><span class="o">=</span><span class="n">sortingDim</span><span class="p">)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">*********************************** ME x BM (2 x 3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* (Characteristic: ME): 1970-01-31 to 2020-02-29 ***************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">          bm0-30 bm30-70 bm70-100</span>
<span class="go">me0-50    0.968   0.972    0.957</span>
<span class="go">me50-100  0.989   0.966    0.971</span>

<span class="go">Average matrix:</span>
<span class="go">                         bm0-30             bm30-70           bm70-100</span>
<span class="go">me0-50        [291.82, 276.32]    [276.92, 266.87]   [160.56, 155.53]</span>
<span class="go">me50-100  [10156.02, 10422.39]  [7423.11, 7410.82]  [6224.8, 6700.63]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                       bm0-30             bm30-70           bm70-100</span>
<span class="go">me0-50      [307.14, 277.81]    [281.24, 261.46]   [171.98, 152.91]</span>
<span class="go">me50-100  [9469.6, 10076.59]  [7741.04, 7357.28]  [6854.91, 7221.4]</span>

<span class="go">*********************************** ME x BM (2 x 3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* (Characteristic: BM): 1970-01-31 to 2020-02-29 ***************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">          bm0-30 bm30-70 bm70-100</span>
<span class="go">me0-50    0.996   0.999    0.998</span>
<span class="go">me50-100  0.996   0.994    0.756</span>

<span class="go">Average matrix:</span>
<span class="go">                 bm0-30       bm30-70      bm70-100</span>
<span class="go">me0-50      [0.3, 0.3]  [0.72, 0.73]  [1.45, 1.48]</span>
<span class="go">me50-100  [0.29, 0.29]   [0.7, 0.72]   [1.32, 1.3]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                 bm0-30      bm30-70      bm70-100</span>
<span class="go">me0-50    [0.14, 0.14]   [0.3, 0.3]  [0.58, 0.58]</span>
<span class="go">me50-100  [0.13, 0.13]  [0.3, 0.29]  [0.63, 0.49]</span>

<span class="go">Elapsed time:  68.136  seconds.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">mainCharacsId</span></code> is not specified (as in the example above), then the class constructor sets it to <code class="xref py py-attr docutils literal notranslate"><span class="pre">sortCharacsId</span></code>.</p></li>
<li><p>Since the focus is on constructing portfolios, not factors, <code class="xref py py-attr docutils literal notranslate"><span class="pre">factorsId</span></code> is set to an empty list.</p></li>
<li><p>Lastly, <code class="xref py py-attr docutils literal notranslate"><span class="pre">sortingDim</span></code> is set to <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">3]</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">retType</span></code> is set to <code class="docutils literal notranslate"><span class="pre">vw</span></code> in order to form the 6 (ie 2 x 3) portfolios.</p></li>
</ul>
<p>More applications and detailed examples are provided in <a class="reference internal" href="index.html#applications-and-examples"><span class="std std-ref">Applications and Examples</span></a>.</p>
</div>
</div>
<span id="document-applications/applications"></span><div class="section" id="applications-and-examples">
<span id="applications"></span><h3>Applications and Examples<a class="headerlink" href="#applications-and-examples" title="Permalink to this headline">¶</a></h3>
<p>Below are some examples of how the package can be used to construct datasets from <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online library</a> as well as many other similar datasets. Throughout, the constructed datasets are compared to those provided by <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/f-f_factors.html">Ken French</a>.</p>
<p>Let’s start by importing this package as well as other required Python libraries:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="gp">In [2]: </span><span class="kn">import</span> <span class="nn">famafrench.famafrench</span> <span class="k">as</span> <span class="nn">ff</span>
</pre></div>
</div>
<p>Let’s create all our datasets from 1950 to the present, or the most recent date for which there is stock returns data. We set <code class="xref py py-attr docutils literal notranslate"><span class="pre">runQuery</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> and query all datafiles directly from <cite>wrds-cloud</cite>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">startDate</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">1950</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">In [4]: </span><span class="n">endDate</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="gp">In [5]: </span><span class="n">runQuery</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<div class="section" id="fama-french-3-factors">
<h4>Fama-French 3 Factors<a class="headerlink" href="#fama-french-3-factors" title="Permalink to this headline">¶</a></h4>
<div class="section" id="fama-french-3-factors-daily">
<h5>Fama-French 3 Factors : Daily<a class="headerlink" href="#fama-french-3-factors-daily" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;D&#39;</span>
<span class="gp">In [7]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKT-RF&#39;</span><span class="p">,</span> <span class="s1">&#39;SMB&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">]</span>
<span class="gp">In [9]: </span><span class="n">ff3_D</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff3_D.getFamaFrenchStats(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 2/2 [02:45&lt;00:00, 82.68s/it]</span>
<span class="go">Historical risk-free interest rate (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">*********************************** Summary Statistics: Fama-French Factors ***********************************</span>
<span class="go">    *********************** Observation frequency: D ************************</span>
<span class="go">                  mkt      mkt-rf         smb         hml</span>
<span class="go">startdate  1970-01-02  1970-01-02  1970-01-02  1970-01-02</span>
<span class="go">enddate    2020-02-28  2020-02-28  2020-02-28  2020-02-28</span>
<span class="go">count           12653       12653       12653       12653</span>
<span class="go">mean            0.04%       0.03%        0.0%       0.02%</span>
<span class="go">std             1.02%       1.02%       0.55%       0.55%</span>
<span class="go">min           -17.45%     -17.47%     -11.64%      -4.39%</span>
<span class="go">1%             -2.77%      -2.78%       -1.4%       -1.5%</span>
<span class="go">10%            -1.05%      -1.07%       -0.6%      -0.52%</span>
<span class="go">25%            -0.41%      -0.43%      -0.29%      -0.24%</span>
<span class="go">50%             0.07%       0.05%       0.02%       0.01%</span>
<span class="go">75%             0.54%       0.53%        0.3%       0.26%</span>
<span class="go">90%              1.1%       1.08%        0.6%       0.56%</span>
<span class="go">99%             2.75%       2.72%        1.4%       1.64%</span>
<span class="go">max            11.36%      11.36%       6.27%       4.91%</span>
<span class="go">skew           -0.53%      -0.52%      -0.97%       0.32%</span>
<span class="go">kurt           14.53%      14.53%      21.77%       9.86%</span>
<span class="go">mad             0.69%        0.7%       0.39%       0.36%</span>

<span class="go">[17 rows x 6 columns]</span>

<span class="gp">In [11]: </span><span class="c1"># Compare daily Fama-French 3 factors constructed here to those provided in Ken French&#39;s online library</span>
<span class="go">         _, _, _, = ff3_D.comparePortfolios(&#39;Factors&#39;, ffFreq, startDate, endDate)</span>

<span class="go">CRSP (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 2/2 [03:30&lt;00:00, 105.19s/it]</span>
<span class="go">Historical risk-free interest rate (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 2/2 [03:03&lt;00:00, 91.90s/it]</span>
<span class="go">*********************************** Factor Returns: 1970-01-02 to 2020-02-28 ***********************************</span>

<span class="go">   *********************** Observation frequency: D ************************</span>
<span class="go">Fama-French factors: Correlation matrix:</span>
<span class="go">        mkt  mkt-rf    smb    hml</span>
<span class="go">corr:  1.0     1.0  0.976  0.963</span>

<span class="go">Fama-French factors: Average matrix:</span>
<span class="go">                       mkt        mkt-rf         smb           hml</span>
<span class="go">[wrds, kflib]:  [0.04, 0.04]  [0.03, 0.03]  [0.0, 0.0]  [0.02, 0.02]</span>

<span class="go">Fama-French factors: Std Deviation matrix:</span>
<span class="go">                          mkt        mkt-rf           smb           hml</span>
<span class="go">[wrds, kflib]:  [1.02, 1.02]  [1.02, 1.02]  [0.55, 0.54]  [0.55, 0.52]</span>

<span class="go">Elapsed time:  169.73  seconds.</span>
</pre></div>
</div>
</div>
<div class="section" id="fama-french-3-factors-annual">
<h5>Fama-French 3 Factors : Annual<a class="headerlink" href="#fama-french-3-factors-annual" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
<span class="gp">In [7]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKT-RF&#39;</span><span class="p">,</span> <span class="s1">&#39;SMB&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">]</span>
<span class="gp">In [9]: </span><span class="n">ff3_A</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff3_A.getFamaFrenchStats(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 2/2 [00:04&lt;00:00,  2.38s/it]</span>
<span class="go">Historical risk-free interest rate (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">**************************** Summary Statistics: Fama-French Factors ***********************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">                  mkt      mkt-rf         smb         hml</span>
<span class="go">startdate  1970-12-31  1970-12-31  1970-12-31  1970-12-31</span>
<span class="go">enddate    2020-12-31  2020-12-31  2020-12-31  2020-12-31</span>
<span class="go">count              51          51          50          50</span>
<span class="go">mean           11.67%       7.07%       1.49%       4.76%</span>
<span class="go">std            17.63%       17.8%      11.33%      14.48%</span>
<span class="go">min           -36.65%     -38.24%     -25.74%     -30.85%</span>
<span class="go">1%            -32.19%     -36.99%      -24.2%     -28.01%</span>
<span class="go">10%           -11.24%      -17.6%     -10.61%     -11.57%</span>
<span class="go">25%             0.04%       -5.1%      -7.31%      -4.62%</span>
<span class="go">50%            15.41%      10.73%       0.42%       6.44%</span>
<span class="go">75%            24.58%       20.3%       8.84%      14.79%</span>
<span class="go">90%            32.58%       28.3%      15.29%      21.41%</span>
<span class="go">99%            37.51%      33.82%      24.86%      36.02%</span>
<span class="go">max            38.23%      35.22%      26.79%      47.04%</span>
<span class="go">skew           -0.65%      -0.65%      -0.02%       0.04%</span>
<span class="go">kurt             0.0%      -0.07%      -0.22%       0.59%</span>
<span class="go">mad            14.26%      14.44%        9.3%       11.5%</span>

<span class="gp">In [11]: </span><span class="c1"># Compare annual Fama-French 3 factors constructed here to those provided in Ken French&#39;s online library</span>
<span class="go">         _, _, _, = ff3_A.comparePortfolios(kfType=&#39;Factors&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 2/2 [00:05&lt;00:00,  2.79s/it]</span>
<span class="go">*********************************** Factor Returns: 1970-12-31 to 2019-12-31 ***********************************</span>

<span class="go">   *********************** Observation frequency: A ************************</span>
<span class="go">Fama-French factors: Correlation matrix:</span>
<span class="go">        mkt  mkt-rf    smb    hml</span>
<span class="go">corr:  1.0     1.0  0.995  0.977</span>

<span class="go">Fama-French factors: Average matrix:</span>
<span class="go">                            mkt        mkt-rf           smb           hml</span>
<span class="go">[wrds, kflib]:  [12.07, 12.07]  [7.37, 7.37]  [1.49, 1.59]  [4.76, 4.28]</span>

<span class="go">Fama-French factors: Std Deviation matrix:</span>
<span class="go">                           mkt          mkt-rf            smb             hml</span>
<span class="go">[wrds, kflib]:  [17.59, 17.6]  [17.84, 17.86]  [11.33, 11.5]  [14.48, 14.36]</span>

<span class="go">Elapsed time:  7.354  seconds.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="fama-french-5-factors">
<h4>Fama-French 5 Factors<a class="headerlink" href="#fama-french-5-factors" title="Permalink to this headline">¶</a></h4>
<div class="section" id="fama-french-5-factors-daily">
<h5>Fama-French 5 Factors : Daily<a class="headerlink" href="#fama-french-5-factors-daily" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;D&#39;</span>
<span class="gp">In [7]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKT-RF&#39;</span><span class="p">,</span> <span class="s1">&#39;SMB&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">,</span> <span class="s1">&#39;RMW&#39;</span><span class="p">,</span> <span class="s1">&#39;CMA&#39;</span><span class="p">]</span>
<span class="gp">In [9]: </span><span class="n">ffportCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">,</span> <span class="s1">&#39;OP&#39;</span><span class="p">,</span> <span class="s1">&#39;INV&#39;</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="n">ff5_D</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff5_D.getFamaFrenchStats(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 5/5 [08:02&lt;00:00, 96.59s/it]</span>
<span class="go">Historical risk-free interest rate (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">*********************************** Summary Statistics: Fama-French Factors ***********************************</span>
<span class="go">    *********************** Observation frequency: D ************************</span>
<span class="go">                  mkt      mkt-rf  ...         rmw         hml</span>
<span class="go">startdate  1970-01-02  1970-01-02  ...  1970-01-02  1970-01-02</span>
<span class="go">enddate    2020-02-28  2020-02-28  ...  2020-02-28  2020-02-28</span>
<span class="go">count           12653       12653  ...       12653       12653</span>
<span class="go">mean            0.04%       0.03%  ...       0.01%       0.02%</span>
<span class="go">std             1.02%       1.02%  ...       0.43%       0.55%</span>
<span class="go">min           -17.45%     -17.47%  ...      -7.67%      -4.39%</span>
<span class="go">1%             -2.77%      -2.78%  ...      -1.17%       -1.5%</span>
<span class="go">10%            -1.05%      -1.07%  ...      -0.37%      -0.52%</span>
<span class="go">25%            -0.41%      -0.43%  ...      -0.17%      -0.24%</span>
<span class="go">50%             0.07%       0.05%  ...       0.01%       0.01%</span>
<span class="go">75%             0.54%       0.53%  ...       0.19%       0.26%</span>
<span class="go">90%              1.1%       1.08%  ...       0.41%       0.56%</span>
<span class="go">99%             2.75%       2.72%  ...       1.25%       1.64%</span>
<span class="go">max            11.36%      11.36%  ...       6.01%       4.91%</span>
<span class="go">skew           -0.53%      -0.52%  ...       -0.0%       0.32%</span>
<span class="go">kurt           14.53%      14.53%  ...      22.14%       9.86%</span>
<span class="go">mad             0.69%        0.7%  ...       0.27%       0.36%</span>

<span class="go">[17 rows x 6 columns]</span>

<span class="gp">In [12]: </span><span class="c1"># Compare daily Fama-French 5 factors constructed here to those provided in Ken French&#39;s online library</span>
<span class="go">         _, _, _, = ff5_D.comparePortfolios(kfType=&#39;Factors&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 5/5 [08:00&lt;00:00, 96.11s/it]</span>
<span class="go">Historical risk-free interest rate (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 5/5 [08:34&lt;00:00, 102.94s/it]</span>
<span class="go">*********************************** Factor Returns: 1970-01-02 to 2020-02-28 ***********************************</span>
<span class="go">    *********************** Observation frequency: D ************************</span>
<span class="go">Fama-French factors: Correlation matrix:</span>
<span class="go">        mkt  mkt-rf    smb    cma    rmw    hml</span>
<span class="go">corr:  1.0     1.0  0.976  0.917  0.902  0.963</span>

<span class="go">Fama-French factors: Average matrix:</span>
<span class="go">                          mkt        mkt-rf  ...           rmw           hml</span>
<span class="go">[wrds, kflib]:  [0.04, 0.04]  [0.03, 0.03]  ...  [0.01, 0.01]  [0.02, 0.02]</span>
<span class="go">[1 rows x 6 columns]</span>

<span class="go">Fama-French factors: Std Deviation matrix:</span>
<span class="go">                          mkt        mkt-rf  ...           rmw           hml</span>
<span class="go">[wrds, kflib]:  [1.02, 1.02]  [1.02, 1.02]  ...  [0.43, 0.38]  [0.55, 0.52]</span>
<span class="go">[1 rows x 6 columns]</span>

<span class="go">Elapsed time:  518.612  seconds.</span>
</pre></div>
</div>
</div>
<div class="section" id="fama-french-5-factors-monthly">
<h5>Fama-French 5 Factors : Monthly<a class="headerlink" href="#fama-french-5-factors-monthly" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;M&#39;</span>
<span class="gp">In [7]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKT-RF&#39;</span><span class="p">,</span> <span class="s1">&#39;SMB&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">,</span> <span class="s1">&#39;RMW&#39;</span><span class="p">,</span> <span class="s1">&#39;CMA&#39;</span><span class="p">]</span>
<span class="gp">In [9]: </span><span class="n">ffportCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">,</span> <span class="s1">&#39;OP&#39;</span><span class="p">,</span> <span class="s1">&#39;INV&#39;</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="n">ff5_M</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff5_M.getFamaFrenchStats(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 5/5 [00:14&lt;00:00,  2.88s/it]</span>
<span class="go">Historical risk-free interest rate (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">*********************************** Summary Statistics: Fama-French Factors ***********************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">                  mkt      mkt-rf  ...         hml         cma</span>
<span class="go">startdate  1970-01-31  1970-01-31  ...  1970-01-31  1970-01-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  ...  2020-02-29  2020-02-29</span>
<span class="go">count             602         602  ...         602         602</span>
<span class="go">mean            0.93%       0.55%  ...       0.31%       0.28%</span>
<span class="go">std              4.5%       4.51%  ...       3.01%       1.93%</span>
<span class="go">min           -22.66%     -23.26%  ...      -11.9%      -7.08%</span>
<span class="go">1%            -10.96%     -11.76%  ...      -8.43%      -4.38%</span>
<span class="go">10%            -4.53%      -4.94%  ...      -2.87%      -1.89%</span>
<span class="go">25%            -1.71%       -2.0%  ...      -1.45%      -0.93%</span>
<span class="go">50%             1.28%       0.94%  ...       0.24%       0.17%</span>
<span class="go">75%              3.9%        3.5%  ...       1.79%       1.43%</span>
<span class="go">90%             6.06%       5.57%  ...       3.95%       2.67%</span>
<span class="go">99%            11.35%      11.14%  ...       8.33%       5.72%</span>
<span class="go">max             16.6%      16.09%  ...      12.43%       8.55%</span>
<span class="go">skew           -0.54%      -0.56%  ...       0.06%       0.33%</span>
<span class="go">kurt            1.92%       1.91%  ...       2.13%       1.43%</span>
<span class="go">mad             3.41%       3.43%  ...        2.2%       1.47%</span>

<span class="go">[17 rows x 6 columns]</span>

<span class="gp">In [12]: </span><span class="c1"># Compare monthly Fama-French 5 factors constructed here to those provided in Ken French&#39;s online library</span>
<span class="go">         _, _, _, = ff5_M.comparePortfolios(kfType=&#39;Factors&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 5/5 [00:14&lt;00:00,  2.84s/it]</span>
<span class="go">*********************************** Factor Returns: 1970-01-31 to 2020-02-29 ***********************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">Fama-French factors: Correlation matrix:</span>
<span class="go">        mkt  mkt-rf    smb    rmw    hml    cma</span>
<span class="go">corr:  1.0     1.0  0.984  0.975  0.977  0.957</span>

<span class="go">Fama-French factors: Average matrix:</span>
<span class="go">                          mkt        mkt-rf  ...          hml           cma</span>
<span class="go">[wrds, kflib]:  [0.93, 0.93]  [0.55, 0.55]  ...  [0.31, 0.3]  [0.28, 0.31]</span>

<span class="go">[1 rows x 6 columns]</span>

<span class="go">Fama-French factors: Std Deviation matrix:</span>
<span class="go">                        mkt        mkt-rf  ...           hml           cma</span>
<span class="go">[wrds, kflib]:  [4.5, 4.5]  [4.51, 4.51]  ...  [3.01, 2.92]  [1.93, 1.99]</span>

<span class="go">[1 rows x 6 columns]</span>

<span class="go">Elapsed time:  15.183  seconds.</span>
</pre></div>
</div>
</div>
<div class="section" id="fama-french-5-factors-annual">
<h5>Fama-French 5 Factors : Annual<a class="headerlink" href="#fama-french-5-factors-annual" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
<span class="gp">In [7]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKT-RF&#39;</span><span class="p">,</span> <span class="s1">&#39;SMB&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">,</span> <span class="s1">&#39;RMW&#39;</span><span class="p">,</span> <span class="s1">&#39;CMA&#39;</span><span class="p">]</span>
<span class="gp">In [9]: </span><span class="n">ffportCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">,</span> <span class="s1">&#39;OP&#39;</span><span class="p">,</span> <span class="s1">&#39;INV&#39;</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="n">ff5_A</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff5_A.getFamaFrenchStats(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 5/5 [00:14&lt;00:00,  2.92s/it]</span>
<span class="go">Historical risk-free interest rate (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">*********************************** Summary Statistics: Fama-French Factors ***********************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">                  mkt      mkt-rf  ...         rmw         cma</span>
<span class="go">startdate  1970-12-31  1970-12-31  ...  1970-12-31  1970-12-31</span>
<span class="go">enddate    2020-12-31  2020-12-31  ...  2020-12-31  2020-12-31</span>
<span class="go">count              51          51  ...          50          50</span>
<span class="go">mean           11.67%       7.07%  ...       3.51%       3.74%</span>
<span class="go">std            17.63%       17.8%  ...       9.34%       8.82%</span>
<span class="go">min           -36.65%     -38.24%  ...     -25.27%     -14.95%</span>
<span class="go">1%            -32.19%     -36.99%  ...     -23.54%     -13.26%</span>
<span class="go">10%           -11.24%      -17.6%  ...      -6.06%      -7.29%</span>
<span class="go">25%             0.04%       -5.1%  ...      -0.87%      -1.99%</span>
<span class="go">50%            15.41%      10.73%  ...       3.35%       3.15%</span>
<span class="go">75%            24.58%       20.3%  ...       8.66%       8.97%</span>
<span class="go">90%            32.58%       28.3%  ...      14.68%      14.68%</span>
<span class="go">99%            37.51%      33.82%  ...      22.08%      25.39%</span>
<span class="go">max            38.23%      35.22%  ...       22.2%       26.0%</span>
<span class="go">skew           -0.65%      -0.65%  ...       -0.6%       0.34%</span>
<span class="go">kurt             0.0%      -0.07%  ...       1.56%        0.2%</span>
<span class="go">mad            14.26%      14.44%  ...       6.88%       6.88%</span>

<span class="go">[17 rows x 6 columns]</span>

<span class="gp">In [12]: </span><span class="c1"># Compare annual Fama-French 5 factors constructed here to those provided in Ken French&#39;s online library</span>
<span class="go">         _, _, _, = ff5_A.comparePortfolios(kfType=&#39;Factors&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 5/5 [00:16&lt;00:00,  3.32s/it]</span>
<span class="go">Historical risk-free interest rate (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 5/5 [00:17&lt;00:00,  3.56s/it]</span>
<span class="go">*********************************** Factor Returns: 1970-12-31 to 2019-12-31 ***********************************</span>

<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">Fama-French factors: Correlation matrix:</span>
<span class="go">        mkt  mkt-rf    smb    hml    rmw    cma</span>
<span class="go">corr:  1.0     1.0  0.996  0.978  0.986  0.977</span>

<span class="go">Fama-French factors: Average matrix:</span>
<span class="go">                            mkt        mkt-rf  ...           rmw           cma</span>
<span class="go">[wrds, kflib]:  [12.07, 12.07]  [7.37, 7.37]  ...  [3.42, 3.64]  [3.88, 3.98]</span>

<span class="go">[1 rows x 6 columns]</span>

<span class="go">Fama-French factors: Std Deviation matrix:</span>
<span class="go">                           mkt          mkt-rf  ...           rmw           cma</span>
<span class="go">[wrds, kflib]:  [17.59, 17.6]  [17.84, 17.86]  ...  [9.43, 9.54]  [9.21, 9.76]</span>

<span class="go">[1 rows x 6 columns]</span>

<span class="go">Elapsed time:  18.957  seconds.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="momentum-short-term-reversal-and-long-term-reversal-factor">
<h4>Momentum, Short-Term Reversal, and Long-Term Reversal Factor<a class="headerlink" href="#momentum-short-term-reversal-and-long-term-reversal-factor" title="Permalink to this headline">¶</a></h4>
<div class="section" id="mom-st-rev-and-lt-rev-daily">
<h5><code class="docutils literal notranslate"><span class="pre">MOM</span></code>, <code class="docutils literal notranslate"><span class="pre">ST_Rev</span></code>, and <code class="docutils literal notranslate"><span class="pre">LT_Rev</span></code> : Daily<a class="headerlink" href="#mom-st-rev-and-lt-rev-daily" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;D&#39;</span>
<span class="gp">In [7]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_2_12&#39;</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKT-RF&#39;</span><span class="p">,</span> <span class="s1">&#39;MOM&#39;</span><span class="p">,</span> <span class="s1">&#39;ST_Rev&#39;</span><span class="p">,</span> <span class="s1">&#39;LT_Rev&#39;</span><span class="p">]</span>
<span class="gp">In [9]: </span><span class="n">ffportCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_2_12&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_1_1&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_13_60&#39;</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="n">ffprior_D</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>


<span class="gp">In [11]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ffprior_D.getFamaFrenchStats(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (daily) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">CRSP-Compustat merged linktable currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 4/4 [24:44&lt;00:00, 371.14s/it]</span>
<span class="go">Historical risk-free interest rate (daily) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">*********************************** Summary Statistics: Fama-French Factors ***********************************</span>
<span class="go">    *********************** Observation frequency: D ************************</span>
<span class="go">                  mkt      mkt-rf      st_rev      lt_rev         mom</span>
<span class="go">startdate  1950-01-03  1950-01-03  1951-07-02  1951-07-02  1951-07-02</span>
<span class="go">enddate    2020-02-28  2020-02-28  2020-02-28  2020-02-28  2020-02-28</span>
<span class="go">count           17653       17653       17279       17279       17279</span>
<span class="go">mean            0.05%       0.03%        0.1%        0.0%       0.03%</span>
<span class="go">std             0.93%       0.93%       0.66%       0.43%       0.67%</span>
<span class="go">min           -17.45%     -17.47%      -6.86%      -4.28%      -7.79%</span>
<span class="go">1%             -2.55%      -2.56%       -1.6%      -1.11%      -2.01%</span>
<span class="go">10%            -0.95%      -0.96%      -0.47%      -0.46%      -0.61%</span>
<span class="go">25%            -0.36%      -0.38%      -0.17%      -0.22%      -0.23%</span>
<span class="go">50%             0.07%       0.06%       0.08%       -0.0%       0.06%</span>
<span class="go">75%             0.49%       0.47%       0.34%       0.22%       0.33%</span>
<span class="go">90%             0.97%       0.95%       0.68%       0.48%       0.66%</span>
<span class="go">99%             2.44%       2.42%       2.13%        1.2%       1.83%</span>
<span class="go">max            11.36%      11.36%       10.2%       4.41%        6.9%</span>
<span class="go">skew           -0.57%      -0.57%       1.71%      -0.12%      -0.88%</span>
<span class="go">kurt           16.24%      16.24%      26.23%       7.39%      14.15%</span>
<span class="go">mad             0.62%       0.62%        0.4%        0.3%       0.43%</span>

<span class="gp">In [12]: </span><span class="c1"># Compare daily Fama-French factors based on prior returns constructed here to those provided in Ken French&#39;s online library</span>
<span class="go">         _, _, _, = ffprior_D.comparePortfolios(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (daily) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (daily) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">CRSP-Compustat merged linktable currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 4/4 [27:29&lt;00:00, 412.39s/it]</span>
<span class="go">Historical risk-free interest rate (daily) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 4/4 [26:12&lt;00:00, 393.02s/it]</span>
<span class="go">*********************************** Factor Returns: 1950-01-03 to 2020-02-28 ***********************************</span>
<span class="go">    *********************** Observation frequency: D ************************</span>

<span class="go">Fama-French factors: Correlation matrix:</span>
<span class="go">        mkt  mkt-rf  st_rev  lt_rev    mom</span>
<span class="go">corr:  1.0     1.0   0.972   0.927  0.969</span>

<span class="go">Fama-French factors: Average matrix:</span>
<span class="go">                          mkt        mkt-rf  ...      lt_rev           mom</span>
<span class="go">[wrds, kflib]:  [0.05, 0.05]  [0.03, 0.03]  ...  [0.0, 0.0]  [0.03, 0.03]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Fama-French factors: Std Deviation matrix:</span>
<span class="go">                          mkt        mkt-rf  ...        lt_rev           mom</span>
<span class="go">[wrds, kflib]:  [0.93, 0.95]  [0.93, 0.95]  ...  [0.43, 0.42]  [0.67, 0.66]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Elapsed time:  1587.064  seconds.</span>
</pre></div>
</div>
</div>
<div class="section" id="mom-st-rev-and-lt-rev-monthly">
<h5><code class="docutils literal notranslate"><span class="pre">MOM</span></code>, <code class="docutils literal notranslate"><span class="pre">ST_Rev</span></code>, and <code class="docutils literal notranslate"><span class="pre">LT_Rev</span></code> : Monthly<a class="headerlink" href="#mom-st-rev-and-lt-rev-monthly" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;M&#39;</span>
<span class="gp">In [7]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_2_12&#39;</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKT-RF&#39;</span><span class="p">,</span> <span class="s1">&#39;MOM&#39;</span><span class="p">,</span> <span class="s1">&#39;ST_Rev&#39;</span><span class="p">,</span> <span class="s1">&#39;LT_Rev&#39;</span><span class="p">]</span>
<span class="gp">In [9]: </span><span class="n">ffportCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_2_12&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_1_1&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_13_60&#39;</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="n">ffprior_M</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>


<span class="gp">In [11]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ffprior_M.getFamaFrenchStats(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">CRSP-Compustat merged linktable currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 4/4 [00:25&lt;00:00,  6.44s/it]</span>
<span class="go">Historical risk-free interest rate (monthly) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">*********************************** Summary Statistics: Fama-French Factors ***********************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">                  mkt      mkt-rf         mom      st_rev      lt_rev</span>
<span class="go">startdate  1950-01-31  1950-01-31  1951-07-31  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             842         842         824         824         824</span>
<span class="go">mean            0.97%       0.64%       0.69%       0.55%       0.11%</span>
<span class="go">std             4.22%       4.24%       3.91%       2.89%       2.47%</span>
<span class="go">min           -22.66%     -23.26%     -33.02%     -14.26%     -14.31%</span>
<span class="go">1%            -10.17%     -10.52%      -9.54%      -7.17%      -5.36%</span>
<span class="go">10%            -4.26%      -4.76%      -3.42%      -2.22%      -2.62%</span>
<span class="go">25%            -1.58%      -1.89%      -0.96%      -0.96%      -1.34%</span>
<span class="go">50%             1.33%       1.05%       0.78%       0.42%      -0.04%</span>
<span class="go">75%             3.71%       3.42%       2.72%       1.87%       1.51%</span>
<span class="go">90%             5.68%       5.25%       4.54%       3.42%        3.0%</span>
<span class="go">99%            11.09%      10.59%       9.68%      10.23%       6.75%</span>
<span class="go">max             16.6%      16.09%       18.3%      16.74%      15.64%</span>
<span class="go">skew           -0.53%      -0.55%       -1.3%       0.43%       0.47%</span>
<span class="go">kurt            1.92%       1.91%      10.51%       5.81%       4.11%</span>
<span class="go">mad             3.22%       3.23%       2.66%       1.98%       1.83%</span>


<span class="gp">In [12]: </span><span class="c1"># Compare monthly Fama-French factors based on prior returns constructed here to those provided in Ken French&#39;s online library</span>
<span class="go">         _, _, _, = ffprior_M.comparePortfolios(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">CRSP-Compustat merged linktable currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 4/4 [00:26&lt;00:00,  6.71s/it]</span>
<span class="go">Historical risk-free interest rate (monthly) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 4/4 [00:25&lt;00:00,  6.25s/it]</span>
<span class="go">*********************************** Factor Returns: 1950-01-31 to 2020-02-29 ***********************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">Fama-French factors: Correlation matrix:</span>
<span class="go">        mkt  mkt-rf    mom  st_rev  lt_rev</span>
<span class="go">corr:  1.0     1.0  0.986   0.977    0.95</span>

<span class="go">Fama-French factors: Average matrix:</span>
<span class="go">                          mkt        mkt-rf  ...        st_rev        lt_rev</span>
<span class="go">[wrds, kflib]:  [0.97, 0.96]  [0.64, 0.62]  ...  [0.55, 0.52]  [0.12, 0.12]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Fama-French factors: Std Deviation matrix:</span>
<span class="go">                          mkt        mkt-rf  ...        st_rev        lt_rev</span>

<span class="go">[wrds, kflib]:  [4.22, 4.25]  [4.24, 4.27]  ...  [2.89, 2.89]  [2.48, 2.42]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Elapsed time:  26.804  seconds.</span>
</pre></div>
</div>
</div>
<div class="section" id="mom-st-rev-and-lt-rev-annual">
<h5><code class="docutils literal notranslate"><span class="pre">MOM</span></code>, <code class="docutils literal notranslate"><span class="pre">ST_Rev</span></code>, and <code class="docutils literal notranslate"><span class="pre">LT_Rev</span></code> : Annual<a class="headerlink" href="#mom-st-rev-and-lt-rev-annual" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
<span class="gp">In [7]: </span><span class="n">ffsortCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_2_12&#39;</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="n">ffFactors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MKT-RF&#39;</span><span class="p">,</span> <span class="s1">&#39;MOM&#39;</span><span class="p">,</span> <span class="s1">&#39;ST_Rev&#39;</span><span class="p">,</span> <span class="s1">&#39;LT_Rev&#39;</span><span class="p">]</span>
<span class="gp">In [9]: </span><span class="n">ffportCharac</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_2_12&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_1_1&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIOR_13_60&#39;</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="n">ffprior_A</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>


<span class="gp">In [11]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ffprior_A.getFamaFrenchStats(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 4/4 [00:31&lt;00:00,  7.88s/it]</span>
<span class="go">Historical risk-free interest rate (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">*********************************** Summary Statistics: Fama-French Factors ***********************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">                  mkt      mkt-rf         mom      st_rev      lt_rev</span>
<span class="go">startdate  1950-12-31  1950-12-31  1953-12-31  1953-12-31  1953-12-31</span>
<span class="go">enddate    2020-12-31  2020-12-31  2020-12-31  2020-12-31  2020-12-31</span>
<span class="go">count              72          72          67          67          67</span>
<span class="go">mean           12.17%       8.11%       8.16%       7.17%       1.47%</span>
<span class="go">std            17.56%      17.92%       17.1%      11.36%       12.5%</span>
<span class="go">min           -36.65%     -38.24%     -79.66%     -17.67%     -25.26%</span>
<span class="go">1%            -30.32%     -36.47%     -43.82%     -16.09%     -21.91%</span>
<span class="go">10%           -10.17%     -14.96%      -8.28%      -5.06%     -13.29%</span>
<span class="go">25%             0.05%      -4.63%       1.57%       0.33%      -8.02%</span>
<span class="go">50%            14.23%      10.71%      10.35%        5.8%       1.57%</span>
<span class="go">75%            24.95%      20.74%      17.52%      13.37%       8.86%</span>
<span class="go">90%             32.5%      28.74%      24.17%      18.27%      16.98%</span>
<span class="go">99%            46.52%      45.18%      37.27%      42.81%      29.01%</span>
<span class="go">max            50.21%      49.35%      38.24%      44.99%      31.03%</span>
<span class="go">skew           -0.38%      -0.35%      -2.12%       0.87%       0.27%</span>
<span class="go">kurt           -0.11%      -0.05%       9.61%       2.15%      -0.26%</span>
<span class="go">mad            14.17%      14.36%      11.49%        8.3%      10.08%</span>

<span class="gp">In [12]: </span><span class="c1"># Compare monthly Fama-French factors based on prior returns constructed here to those provided in Ken French&#39;s online library</span>
<span class="go">         _, _, _, = ffprior_A.comparePortfolios(dataType=&#39;Factors&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate)</span>

<span class="go">Constructing Fama-French return factor(s): 100%|██████████| 4/4 [00:30&lt;00:00,  7.54s/it]</span>
<span class="go">*********************************** Factor Returns: 1950-12-31 to 2019-12-31 ***********************************</span>

<span class="go">     *********************** Observation frequency: A ************************</span>
<span class="go">Fama-French factors: Correlation matrix:</span>
<span class="go">        mkt  mkt-rf    mom  st_rev  lt_rev</span>
<span class="go">corr:  1.0     1.0  0.989   0.969   0.978</span>

<span class="go">Fama-French factors: Average matrix:</span>
<span class="go">                            mkt        mkt-rf  ...        st_rev        lt_rev</span>
<span class="go">[wrds, kflib]:  [12.75, 12.75]  [8.57, 8.57]  ...  [7.17, 7.07]  [1.47, 1.59]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Fama-French factors: Std Deviation matrix:</span>
<span class="go">                            mkt          mkt-rf  ...          st_rev         lt_rev</span>
<span class="go">[wrds, kflib]:  [17.46, 17.48]  [17.96, 17.97]  ...  [11.36, 10.82]  [12.5, 12.04]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Elapsed time:  32.233  seconds.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="portfolios-sorted-on-size-me">
<h4>Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code><a class="headerlink" href="#portfolios-sorted-on-size-me" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">ffportCharac</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="portfolios-sorted-on-size-me-daily">
<h5>Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> : Daily<a class="headerlink" href="#portfolios-sorted-on-size-me-daily" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;D&#39;</span>
<span class="gp">In [8]: </span><span class="n">ff_D</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>(3 x 1) Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="gp">In [11]: </span><span class="c1"># daily portfolios</span>
<span class="go">         _, _, _, = ff_D.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
</pre></div>
</div>
<p><strong>(5 x 1) Quintile Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_D.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_D.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_D.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="gp">In [11]: </span><span class="c1"># daily portfolios</span>
<span class="go">         _, _, _, = ff_D.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
</pre></div>
</div>
<p><strong>(10 x 1) Decile Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_D.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_D.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_D.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="gp">In [11]: </span><span class="c1"># daily portfolios</span>
<span class="go">         _, _, _, = ff_D.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="portfolios-sorted-on-size-me-monthly">
<h5>Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> : Monthly<a class="headerlink" href="#portfolios-sorted-on-size-me-monthly" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;M&#39;</span>
<span class="gp">In [8]: </span><span class="n">ff_M</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>(3 x 1) Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">CRSP-Compustat merged linktable currently NOT saved locally. Querying from wrds-cloud...</span>
<span class="go">*********************************** Summary Statistics: Portfolio Returns ***********************************</span>
<span class="go">          *********************************** ME (3) ************************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">               me0-30     me30-70    me70-100</span>
<span class="go">startdate  1951-07-31  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             824         824         824</span>
<span class="go">mean            0.01%       0.01%       0.01%</span>
<span class="go">std             0.06%       0.05%       0.04%</span>
<span class="go">min             -0.3%      -0.27%      -0.21%</span>
<span class="go">1%             -0.14%      -0.12%       -0.1%</span>
<span class="go">10%            -0.06%      -0.05%      -0.04%</span>
<span class="go">25%            -0.02%      -0.02%      -0.01%</span>
<span class="go">50%             0.02%       0.02%       0.01%</span>
<span class="go">75%             0.05%       0.04%       0.04%</span>
<span class="go">90%             0.08%       0.07%       0.06%</span>
<span class="go">99%             0.14%       0.12%       0.11%</span>
<span class="go">max             0.28%       0.23%       0.18%</span>
<span class="go">skew           -0.33%      -0.54%      -0.41%</span>
<span class="go">kurt            2.59%       2.53%       1.74%</span>
<span class="go">mad             0.04%       0.04%       0.03%</span>

<span class="go">*********************************** Summary Statistics: Number of Firms ***********************************</span>
<span class="go">          *********************************** ME (3) ************************************</span>

<span class="go">   *********************** Observation frequency: M ************************</span>
<span class="go">               me0-30     me30-70    me70-100</span>
<span class="go">startdate  1951-07-31  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             824         824         824</span>
<span class="go">mean             2172         723         396</span>
<span class="go">std              1393         329         150</span>
<span class="go">min                31          29          20</span>
<span class="go">1%                102         132          99</span>
<span class="go">10%               143         191         138</span>
<span class="go">25%               847         428         293</span>
<span class="go">50%              2430         838         440</span>
<span class="go">75%              3305         920         500</span>
<span class="go">90%              3876        1116         541</span>
<span class="go">99%              4655        1334         676</span>
<span class="go">max              4956        1428         718</span>
<span class="go">skew               -0          -0          -1</span>
<span class="go">kurt               -1          -1          -0</span>
<span class="go">mad              1188         279         122</span>

<span class="go">*********************************** Summary Statistics: Firm Characteristics ***********************************</span>
<span class="go">          *********************************** ME (3) ************************************</span>

<span class="go">  ************************** (Characteristic: ME) ***************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">me_port        me0-30     me30-70    me70-100</span>
<span class="go">startdate  1951-07-31  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             824         824         824</span>
<span class="go">mean            98.04      850.42     10312.5</span>
<span class="go">std            120.72     1003.63     12782.8</span>
<span class="go">min             10.83       44.78      445.17</span>
<span class="go">1%              10.83       44.78      445.17</span>
<span class="go">10%             14.72      107.55       955.6</span>
<span class="go">25%             22.32      145.12      1422.6</span>
<span class="go">50%             37.26       393.6     3246.79</span>
<span class="go">75%            126.37     1209.45     18281.1</span>
<span class="go">90%            277.16     2506.54     28415.1</span>
<span class="go">99%            604.29     4017.67       48861</span>
<span class="go">max            611.05     4468.11     61026.1</span>
<span class="go">skew             1.93        1.56        1.55</span>
<span class="go">kurt             3.75        1.76        2.08</span>
<span class="go">mad             91.54      787.58     10412.7</span>

<span class="gp">In [11]: </span><span class="c1"># monthly portfolios</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;NumFirms&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Characs&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>

<span class="go">*********************************** ME (3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* Returns: 1951-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me0-30  me70-100  me30-70</span>
<span class="go">corr:   0.994     0.997    0.995</span>

<span class="go">Average matrix:</span>
<span class="go">                         me0-30        me70-100         me30-70</span>
<span class="go">[wrds, kflib]:  [1.18%, 1.12%]  [0.95%, 0.94%]  [1.11%, 1.09%]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                         me0-30        me70-100         me30-70</span>
<span class="go">[wrds, kflib]:  [5.85%, 5.81%]  [4.12%, 4.13%]  [4.96%, 5.07%]</span>

<span class="go">Elapsed time:  6.309  seconds.</span>

<span class="go">*********************************** ME (3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* NumFirms: 1951-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me0-30  me70-100  me30-70</span>
<span class="go">corr:   0.978     0.911    0.953</span>

<span class="go">Average matrix:</span>
<span class="go">                       me0-30    me70-100     me30-70</span>
<span class="go">[wrds, kflib]:  [2172, 2469]  [396, 448]  [723, 804]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                       me0-30   me70-100     me30-70</span>
<span class="go">[wrds, kflib]:  [1393, 1479]  [150, 96]  [329, 266]</span>

<span class="go">Elapsed time:  6.268  seconds.</span>

<span class="go">*********************************** ME (3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* (Characteristic: ME): 1951-07-31 to 2020-02-29 ***************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me0-30  me70-100  me30-70</span>
<span class="go">corr:   0.955     0.989    0.979</span>

<span class="go">Average matrix:</span>
<span class="go">                         me0-30              me70-100           me30-70</span>
<span class="go">[wrds, kflib]:  [98.04, 91.55]  [10312.47, 10189.21]  [850.42, 817.22]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                           me0-30              me70-100            me30-70</span>
<span class="go">[wrds, kflib]:  [120.72, 109.95]  [12782.78, 12893.69]  [1003.63, 978.37]</span>

<span class="go">Elapsed time:  5.401  seconds.</span>
</pre></div>
</div>
<p><strong>(5 x 1) Quintile Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="go">*********************************** Summary Statistics: Portfolio Returns ***********************************</span>
<span class="go">          *********************************** ME (5) ************************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">               me0-20     me20-40     me40-60     me60-80    me80-100</span>
<span class="go">startdate  1951-07-31  1951-07-31  1951-07-31  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             824         824         824         824         824</span>
<span class="go">mean            0.01%       0.01%       0.01%       0.01%       0.01%</span>
<span class="go">std             0.06%       0.06%       0.05%       0.05%       0.04%</span>
<span class="go">min             -0.3%       -0.3%      -0.27%      -0.25%       -0.2%</span>
<span class="go">1%             -0.15%      -0.15%      -0.12%      -0.11%       -0.1%</span>
<span class="go">10%            -0.06%      -0.06%      -0.05%      -0.05%      -0.04%</span>
<span class="go">25%            -0.02%      -0.02%      -0.02%      -0.02%      -0.01%</span>
<span class="go">50%             0.02%       0.02%       0.02%       0.01%       0.01%</span>
<span class="go">75%             0.05%       0.05%       0.04%       0.04%       0.04%</span>
<span class="go">90%             0.08%       0.08%       0.07%       0.07%       0.06%</span>
<span class="go">99%             0.15%       0.13%       0.13%       0.12%       0.11%</span>
<span class="go">max             0.29%       0.26%       0.23%       0.19%       0.18%</span>
<span class="go">skew           -0.21%      -0.49%      -0.53%      -0.49%      -0.38%</span>
<span class="go">kurt            2.77%        2.4%       2.41%       2.26%        1.7%</span>
<span class="go">mad             0.04%       0.04%       0.04%       0.04%       0.03%</span>

<span class="go">*********************************** Summary Statistics: Number of Firms ***********************************</span>
<span class="go">          *********************************** ME (5) ************************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">               me0-20     me20-40     me40-60     me60-80    me80-100</span>
<span class="go">startdate  1951-07-31  1951-07-31  1951-07-31  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             824         824         824         824         824</span>
<span class="go">mean             1892         505         350         287         256</span>
<span class="go">std              1239         271         158         116          95</span>
<span class="go">min                25          15          15          11          14</span>
<span class="go">1%                 73          59          68          63          70</span>
<span class="go">10%                99          92          94          92          96</span>
<span class="go">25%               724         238         216         198         192</span>
<span class="go">50%              2120         580         402         324         286</span>
<span class="go">75%              2920         666         438         356         323</span>
<span class="go">90%              3420         872         530         414         343</span>
<span class="go">99%              4118         989         669         511         438</span>
<span class="go">max              4391        1029         711         543         465</span>
<span class="go">skew               -0          -0          -0          -1          -1</span>
<span class="go">kurt               -1          -1          -1          -1          -0</span>
<span class="go">mad              1066         228         132          96          77</span>

<span class="go">*********************************** Summary Statistics: Firm Characteristics ***********************************</span>
<span class="go">          *********************************** ME (5) ************************************</span>

<span class="go">   ************************** (Characteristic: ME) ***************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">me_port        me0-20     me20-40     me40-60     me60-80    me80-100</span>
<span class="go">startdate  1951-07-31  1951-07-31  1951-07-31  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             824         824         824         824         824</span>
<span class="go">mean            67.55      351.45      834.63     2038.13     14480.3</span>
<span class="go">std              81.4      416.87     1001.71     2412.76     17836.3</span>
<span class="go">min              8.61       19.24        39.1       98.06       578.4</span>
<span class="go">1%               8.61       19.24        39.1       98.06       578.4</span>
<span class="go">10%             11.36       43.38       99.13      230.85     1260.94</span>
<span class="go">25%             16.15       58.79      135.22       331.8     1933.43</span>
<span class="go">50%             26.48      167.59      389.03       921.5     4381.07</span>
<span class="go">75%             86.78      526.02     1198.73      2971.8     26896.4</span>
<span class="go">90%            197.77      1021.4      2381.6     5734.64     40281.7</span>
<span class="go">99%            406.77     1782.62     3921.44     9833.41     69033.1</span>
<span class="go">max            413.35     1787.57     4971.89       11719     80726.9</span>
<span class="go">skew              1.9        1.48        1.68        1.66        1.46</span>
<span class="go">kurt             3.63        1.31        2.62        2.56         1.6</span>
<span class="go">mad             61.97      331.69      776.58     1876.38     14703.3</span>


<span class="gp">In [11]: </span><span class="c1"># monthly portfolios</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;NumFirms&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Characs&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>

<span class="go">*********************************** ME (5) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* Returns: 1951-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me20-40  me80-100  me0-20  me40-60  me60-80</span>
<span class="go">corr:    0.991     0.997   0.991    0.995    0.993</span>

<span class="go">Average matrix:</span>
<span class="go">                        me20-40        me80-100  ...        me40-60        me60-80</span>
<span class="go">[wrds, kflib]:  [1.15%, 1.12%]  [0.94%, 0.93%]  ...  [1.11%, 1.1%]  [1.1%, 1.07%]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                        me20-40       me80-100  ...         me40-60         me60-80</span>
<span class="go">[wrds, kflib]:  [5.53%, 5.58%]  [4.1%, 4.09%]  ...  [5.01%, 5.12%]  [4.68%, 4.82%]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Elapsed time:  6.725  seconds.</span>

<span class="go">*********************************** ME (5) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* NumFirms: 1951-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me20-40  me80-100  me0-20  me40-60  me60-80</span>
<span class="go">corr:    0.973     0.899   0.977    0.948    0.926</span>

<span class="go">Average matrix:</span>
<span class="go">                    me20-40    me80-100        me0-20     me40-60     me60-80</span>
<span class="go">[wrds, kflib]:  [505, 558]  [256, 291]  [1892, 2160]  [350, 390]  [287, 324]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                    me20-40  me80-100        me0-20     me40-60    me60-80</span>
<span class="go">[wrds, kflib]:  [271, 245]  [95, 59]  [1239, 1340]  [158, 127]  [116, 81]</span>

<span class="go">Elapsed time:  5.478  seconds.</span>

<span class="go">*********************************** ME (5) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* (Characteristic: ME): 1951-07-31 to 2020-02-29 ***************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me20-40  me80-100  me0-20  me40-60  me60-80</span>
<span class="go">corr:    0.978     0.991   0.943    0.968    0.978</span>

<span class="go">Average matrix:</span>
<span class="go">                          me20-40  ...             me60-80</span>

<span class="go">[wrds, kflib]:  [351.45, 338.05]  ...  [2038.13, 1970.45]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                          me20-40  ...            me60-80</span>
<span class="go">[wrds, kflib]:  [416.87, 405.33]  ...  [2412.76, 2347.4]</span>


<span class="go">[1 rows x 5 columns]</span>

<span class="go">Elapsed time:  5.629  seconds.</span>
</pre></div>
</div>
<p><strong>(10 x 1) Decile Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="go">*********************************** Summary Statistics: Portfolio Returns ***********************************</span>
<span class="go">          *********************************** ME (10) ************************************</span>

<span class="go"> *********************** Observation frequency: M ************************</span>
<span class="go">               me0-10     me10-20  ...     me80-90    me90-100</span>
<span class="go">startdate  1951-07-31  1951-07-31  ...  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  ...  2020-02-29  2020-02-29</span>
<span class="go">count             824         824  ...         824         824</span>
<span class="go">mean            0.01%       0.01%  ...       0.01%       0.01%</span>
<span class="go">std             0.06%       0.06%  ...       0.04%       0.04%</span>
<span class="go">min             -0.3%      -0.31%  ...      -0.22%       -0.2%</span>
<span class="go">1%             -0.16%      -0.14%  ...       -0.1%       -0.1%</span>
<span class="go">10%            -0.06%      -0.06%  ...      -0.04%      -0.04%</span>
<span class="go">25%            -0.02%      -0.02%  ...      -0.02%      -0.01%</span>
<span class="go">50%             0.01%       0.01%  ...       0.01%       0.01%</span>
<span class="go">75%             0.05%       0.05%  ...       0.04%       0.03%</span>
<span class="go">90%             0.08%       0.08%  ...       0.06%       0.05%</span>
<span class="go">99%             0.17%       0.16%  ...       0.11%       0.11%</span>
<span class="go">max             0.31%        0.3%  ...       0.18%       0.18%</span>
<span class="go">skew           -0.14%      -0.21%  ...      -0.42%      -0.36%</span>
<span class="go">kurt            2.94%       2.56%  ...       2.08%        1.6%</span>
<span class="go">mad             0.04%       0.05%  ...       0.03%       0.03%</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="go">*********************************** Summary Statistics: Number of Firms ***********************************</span>
<span class="go">          *********************************** ME (10) ************************************</span>

<span class="go">*********************** Observation frequency: M ************************</span>
<span class="go">               me0-10     me10-20  ...     me80-90    me90-100</span>
<span class="go">startdate  1951-07-31  1951-07-31  ...  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  ...  2020-02-29  2020-02-29</span>
<span class="go">count             824         824  ...         824         824</span>
<span class="go">mean             1485         407  ...         130         126</span>
<span class="go">std               989         265  ...          49          45</span>
<span class="go">min                19           6  ...           9           5</span>
<span class="go">1%                 33          40  ...          36          34</span>
<span class="go">10%                49          48  ...          48          48</span>
<span class="go">25%               563         162  ...          95          97</span>
<span class="go">50%              1654         413  ...         144         141</span>
<span class="go">75%              2312         567  ...         164         156</span>
<span class="go">90%              2749         778  ...         179         168</span>
<span class="go">99%              3173        1024  ...         225         213</span>
<span class="go">max              3368        1052  ...         241         224</span>
<span class="go">skew               -0           0  ...          -1          -1</span>
<span class="go">kurt               -1          -1  ...          -0          -0</span>

<span class="go">mad               863         214  ...          40          37</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="go">*********************************** Summary Statistics: Firm Characteristics ***********************************</span>
<span class="go">          *********************************** ME (10) ************************************</span>

<span class="go">************************** (Characteristic: ME) ***************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">me_port        me0-10     me10-20  ...     me80-90    me90-100</span>
<span class="go">startdate  1951-07-31  1951-07-31  ...  1951-07-31  1951-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  ...  2020-02-29  2020-02-29</span>
<span class="go">count             824         824  ...         824         824</span>
<span class="go">mean            40.39      154.28  ...      5062.7     24674.1</span>
<span class="go">std             47.09      183.16  ...     6212.28     31341.9</span>
<span class="go">min              5.59       11.11  ...      215.91       962.2</span>
<span class="go">1%               5.59       11.11  ...      215.91       962.2</span>
<span class="go">10%              8.17       20.29  ...      459.37     2122.34</span>
<span class="go">25%             10.83       29.03  ...       684.2     3160.34</span>
<span class="go">50%             17.47       69.27  ...     2044.56     6704.41</span>
<span class="go">75%             48.52      228.78  ...     8061.98     46122.2</span>
<span class="go">90%            114.21      464.07  ...     14395.2     66496.7</span>
<span class="go">99%             213.2      834.97  ...     22621.6      113340</span>
<span class="go">max            224.47      838.48  ...     32120.8      168218</span>
<span class="go">skew             1.87        1.58  ...        1.68        1.72</span>
<span class="go">kurt             3.22         1.8  ...        2.89        3.41</span>
<span class="go">mad             35.78      144.44  ...     4894.66     25470.4</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="gp">In [11]: </span><span class="c1"># monthly portfolios</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;NumFirms&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Characs&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>

<span class="go">*********************************** ME (10) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* Returns: 1951-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me30-40  me0-10  me90-100  me20-30  ...  me80-90  me40-50  me60-70  me70-80</span>
<span class="go">corr:    0.986   0.984     0.996    0.989  ...    0.992    0.988    0.988    0.987</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Average matrix:</span>
<span class="go">                       me30-40        me0-10  ...        me60-70        me70-80</span>
<span class="go">[wrds, kflib]:  [1.14%, 1.1%]  [1.2%, 1.1%]  ...  [1.1%, 1.08%]  [1.1%, 1.06%]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                        me30-40          me0-10  ...         me60-70         me70-80</span>
<span class="go">[wrds, kflib]:  [5.46%, 5.51%]  [6.06%, 5.98%]  ...  [4.84%, 4.93%]  [4.65%, 4.78%]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Elapsed time:  5.44  seconds.</span>

<span class="go">*********************************** ME (10) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* NumFirms: 1951-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me30-40  me0-10  me90-100  me20-30  ...  me80-90  me40-50  me60-70  me70-80</span>
<span class="go">corr:    0.963   0.976     0.891    0.976  ...    0.903    0.951    0.923    0.925</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Average matrix:</span>
<span class="go">                    me30-40        me0-10  ...     me60-70     me70-80</span>
<span class="go">[wrds, kflib]:  [226, 248]  [1485, 1706]  ...  [147, 166]  [140, 158]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                   me30-40       me0-10  me90-100  ...   me40-50   me60-70   me70-80</span>
<span class="go">[wrds, kflib]:  [113, 98]  [989, 1101]  [45, 27]  ...  [89, 73]  [61, 44]  [56, 38]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Elapsed time:  5.427  seconds.</span>

<span class="go">*********************************** ME (10) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* (Characteristic: ME): 1951-07-31 to 2020-02-29 ***************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me30-40  me0-10  me90-100  me20-30  ...  me80-90  me40-50  me60-70  me70-80</span>
<span class="go">corr:    0.982   0.923     0.983    0.977  ...    0.978     0.97    0.982    0.979</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Average matrix:</span>
<span class="go">                          me30-40  ...             me70-80</span>
<span class="go">[wrds, kflib]:  [440.84, 425.56]  ...  [2568.75, 2498.92]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                          me30-40  ...             me70-80</span>
<span class="go">[wrds, kflib]:  [519.11, 511.26]  ...  [3058.66, 3004.56]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Elapsed time:  5.276  seconds.</span>
</pre></div>
</div>
</div>
<div class="section" id="portfolios-sorted-on-size-me-annual">
<h5>Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> : Annual<a class="headerlink" href="#portfolios-sorted-on-size-me-annual" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
<span class="gp">In [8]: </span><span class="n">ff_A</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>(3 x 1) Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_A.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_A.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_A.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>

<span class="go">*********************************** Summary Statistics: Portfolio Returns ***********************************</span>
<span class="go">          *********************************** ME (3) ************************************</span>

<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">               me0-30     me30-70    me70-100</span>
<span class="go">startdate  1953-12-31  1953-12-31  1953-12-31</span>
<span class="go">enddate    2019-12-31  2019-12-31  2019-12-31</span>
<span class="go">count              67          67          67</span>
<span class="go">mean            0.16%       0.14%       0.12%</span>
<span class="go">std             0.26%        0.2%       0.17%</span>
<span class="go">min            -0.37%      -0.35%      -0.37%</span>
<span class="go">1%             -0.36%      -0.31%      -0.31%</span>
<span class="go">10%            -0.13%       -0.1%      -0.09%</span>
<span class="go">25%            -0.05%       0.01%       0.02%</span>
<span class="go">50%             0.19%       0.17%       0.13%</span>
<span class="go">75%             0.33%       0.27%       0.23%</span>
<span class="go">90%             0.47%       0.42%       0.33%</span>
<span class="go">99%             0.77%       0.54%       0.44%</span>
<span class="go">max             0.92%       0.55%       0.49%</span>
<span class="go">skew            0.29%      -0.18%      -0.44%</span>
<span class="go">kurt            0.12%       -0.1%       0.15%</span>
<span class="go">mad             0.21%       0.16%       0.14%</span>

<span class="go">*********************************** Summary Statistics: Number of Firms ***********************************</span>
<span class="go">          *********************************** ME (3) ************************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">               me0-30     me30-70    me70-100</span>
<span class="go">startdate  1953-12-31  1953-12-31  1953-12-31</span>
<span class="go">enddate    2019-12-31  2019-12-31  2019-12-31</span>
<span class="go">count              67          67          67</span>
<span class="go">mean             2221         738         405</span>
<span class="go">std              1372         317         142</span>
<span class="go">min               115         181         138</span>
<span class="go">1%                122         182         138</span>
<span class="go">10%               149         197         147</span>
<span class="go">25%               892         464         317</span>
<span class="go">50%              2454         841         439</span>
<span class="go">75%              3330         915         499</span>
<span class="go">90%              3786        1088         539</span>
<span class="go">99%              4557        1259         646</span>
<span class="go">max              4577        1273         669</span>
<span class="go">skew               -0          -0          -1</span>
<span class="go">kurt               -1          -1          -0</span>
<span class="go">mad              1158         265         114</span>

<span class="go">*********************************** Summary Statistics: Firm Characteristics ***********************************</span>
<span class="go">          *********************************** ME (3) ************************************</span>

<span class="go">   ************************** (Characteristic: ME) ***************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">me_port        me0-30     me30-70    me70-100</span>
<span class="go">startdate  1953-12-31  1953-12-31  1953-12-31</span>
<span class="go">enddate    2019-12-31  2019-12-31  2019-12-31</span>
<span class="go">count              67          67          67</span>
<span class="go">mean            99.41      878.26     10677.4</span>
<span class="go">std             118.8     1003.61     12937.8</span>
<span class="go">min             11.65       50.16      438.23</span>
<span class="go">1%              11.73        62.5      522.79</span>
<span class="go">10%             17.23      111.49     1092.48</span>
<span class="go">25%             22.74      154.07     1422.71</span>
<span class="go">50%             37.13      476.24     4182.93</span>
<span class="go">75%            126.43      1214.5     18512.6</span>
<span class="go">90%            282.15     2519.86     28357.1</span>
<span class="go">99%            436.04     3760.24     50142.1</span>
<span class="go">max            591.43     3937.65       54121</span>
<span class="go">skew             1.85        1.42        1.46</span>
<span class="go">kurt             3.56        1.08        1.58</span>
<span class="go">mad             91.04      797.02     10585.3</span>

<span class="gp">In [11]: </span><span class="c1"># annual portfolios</span>
<span class="go">         _, _, _, = ff_A.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
<span class="go">         _, _, _, = ff_A.comparePortfolios(kfType=&#39;Characs&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>

<span class="go">*********************************** ME (3) ************************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">    ************************* Returns: 1953-12-31 to 2019-12-31 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me0-30  me70-100  me30-70</span>
<span class="go">corr:   0.995     0.998    0.995</span>

<span class="go">Average matrix:</span>
<span class="go">                          me0-30          me70-100           me30-70</span>
<span class="go">[wrds, kflib]:  [16.25%, 15.6%]  [12.29%, 12.53%]  [14.46%, 14.69%]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                           me0-30          me70-100           me30-70</span>
<span class="go">[wrds, kflib]:  [26.13%, 25.87%]  [17.07%, 16.99%]  [19.88%, 20.65%]</span>

<span class="go">Elapsed time:  5.846  seconds.</span>

<span class="go">*********************************** ME (3) ************************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">   ************************** (Characteristic: ME) ***************************</span>
<span class="go">   ******************************* NOT AVAILABLE *****************************</span>

<span class="go">Elapsed time:  5.53  seconds.</span>
</pre></div>
</div>
<p><strong>(5 x 1) Quintile Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_A.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_A.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_A.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="go">*********************************** Summary Statistics: Portfolio Returns ***********************************</span>
<span class="go">          *********************************** ME (5) ************************************</span>

<span class="go">   *********************** Observation frequency: A ************************</span>
<span class="go">               me0-20     me20-40     me40-60     me60-80    me80-100</span>
<span class="go">startdate  1953-12-31  1953-12-31  1953-12-31  1953-12-31  1953-12-31</span>
<span class="go">enddate    2019-12-31  2019-12-31  2019-12-31  2019-12-31  2019-12-31</span>
<span class="go">count              67          67          67          67          67</span>
<span class="go">mean            0.16%       0.15%       0.15%       0.14%       0.12%</span>
<span class="go">std             0.28%       0.22%        0.2%       0.18%       0.17%</span>
<span class="go">min            -0.39%      -0.34%      -0.32%       -0.4%      -0.36%</span>
<span class="go">1%             -0.38%      -0.32%      -0.29%      -0.32%      -0.31%</span>
<span class="go">10%            -0.14%      -0.12%      -0.11%      -0.07%      -0.09%</span>
<span class="go">25%            -0.06%      -0.02%        0.0%       0.02%       0.02%</span>
<span class="go">50%             0.18%       0.17%       0.17%       0.16%       0.13%</span>
<span class="go">75%             0.32%       0.28%       0.29%       0.27%       0.23%</span>
<span class="go">90%              0.5%       0.43%       0.43%       0.37%       0.33%</span>
<span class="go">99%             0.85%       0.62%       0.54%        0.5%       0.44%</span>
<span class="go">max             1.01%       0.63%        0.6%        0.5%       0.49%</span>
<span class="go">skew            0.37%       0.02%      -0.11%       -0.4%      -0.42%</span>
<span class="go">kurt            0.32%      -0.29%      -0.22%       0.34%       0.12%</span>
<span class="go">mad             0.22%       0.18%       0.16%       0.14%       0.14%</span>

<span class="go">*********************************** Summary Statistics: Number of Firms ***********************************</span>
<span class="go">          *********************************** ME (5) ************************************</span>

<span class="go">*********************** Observation frequency: A ************************</span>
<span class="go">               me0-20     me20-40     me40-60     me60-80    me80-100</span>
<span class="go">startdate  1953-12-31  1953-12-31  1953-12-31  1953-12-31  1953-12-31</span>
<span class="go">enddate    2019-12-31  2019-12-31  2019-12-31  2019-12-31  2019-12-31</span>
<span class="go">count              67          67          67          67          67</span>
<span class="go">mean             1936         515         358         294         262</span>
<span class="go">std              1222         264         152         110          90</span>
<span class="go">min                76          80          90          91          92</span>
<span class="go">1%                 81          83          90          92          92</span>
<span class="go">10%               100          96         101          98          99</span>
<span class="go">25%               758         261         233         214         207</span>
<span class="go">50%              2186         589         402         323         285</span>
<span class="go">75%              2992         658         436         355         323</span>
<span class="go">90%              3370         869         531         405         343</span>
<span class="go">99%              4010         957         623         482         416</span>
<span class="go">max              4015         962         627         502         430</span>
<span class="go">skew               -0          -0          -0          -1          -1</span>
<span class="go">kurt               -1          -1          -1          -1          -0</span>
<span class="go">mad              1041         219         125          89          72</span>

<span class="go">*********************************** Summary Statistics: Firm Characteristics ***********************************</span>
<span class="go">          *********************************** ME (5) ************************************</span>

<span class="go">   ************************** (Characteristic: ME) ***************************</span>
<span class="go"> *********************** Observation frequency: A ************************</span>
<span class="go">me_port        me0-20     me20-40     me40-60     me60-80    me80-100</span>
<span class="go">startdate  1953-12-31  1953-12-31  1953-12-31  1953-12-31  1953-12-31</span>
<span class="go">enddate    2019-12-31  2019-12-31  2019-12-31  2019-12-31  2019-12-31</span>
<span class="go">count              67          67          67          67          67</span>
<span class="go">mean             68.4         358      850.01     2089.37     15007.1</span>
<span class="go">std             79.87      409.31      964.15     2361.61       18082</span>
<span class="go">min              8.66       21.12       44.38      106.44      598.48</span>
<span class="go">1%               8.93       26.26       56.77      129.62      705.69</span>
<span class="go">10%             12.98       47.99       103.7      245.61      1480.2</span>
<span class="go">25%             16.28       64.64      144.69      340.59     1944.19</span>
<span class="go">50%             26.31      170.06      464.82     1153.87     5693.19</span>
<span class="go">75%             89.11      530.76     1204.12     2987.83     26924.5</span>
<span class="go">90%            199.37     1011.88     2418.42      5756.8     40020.4</span>
<span class="go">99%            290.35     1427.32      3438.1     8960.67     69321.9</span>
<span class="go">max             396.9     1745.95     3838.29     9542.63     72980.1</span>
<span class="go">skew              1.8        1.39        1.36        1.41        1.39</span>
<span class="go">kurt             3.35        1.08        0.86        1.19        1.25</span>
<span class="go">mad             61.55      329.41      770.75     1877.98     14960.5</span>

<span class="gp">In [11]: </span><span class="c1"># annual portfolios</span>
<span class="go">         _, _, _, = ff_A.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
<span class="go">         _, _, _, = ff_A.comparePortfolios(kfType=&#39;Characs&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>

<span class="go">*********************************** ME (5) ************************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">    ************************* Returns: 1953-12-31 to 2019-12-31 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        me20-40  me80-100  me0-20  me40-60  me60-80</span>
<span class="go">corr:    0.993     0.998   0.994    0.994    0.991</span>

<span class="go">Average matrix:</span>
<span class="go">                          me20-40  ...          me60-80</span>
<span class="go">[wrds, kflib]:  [15.29%, 15.21%]  ...  [14.17%, 14.3%]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                          me20-40  ...          me60-80</span>
<span class="go">[wrds, kflib]:  [22.39%, 22.89%]  ...  [18.4%, 19.14%]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Elapsed time:  5.436  seconds.</span>

<span class="go">*********************************** ME (5) ************************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">   ************************** (Characteristic: ME) ***************************</span>
<span class="go">   ******************************* NOT AVAILABLE *****************************</span>

<span class="go">Elapsed time:  5.454  seconds.</span>
</pre></div>
</div>
<p><strong>(10 x 1) Decile Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">        ff_A.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">        ff_A.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">        ff_A.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="go">*********************************** Summary Statistics: Portfolio Returns ***********************************</span>
<span class="go">          *********************************** ME (10) ************************************</span>

<span class="go">   *********************** Observation frequency: A ************************</span>
<span class="go">               me0-10     me10-20  ...     me80-90    me90-100</span>
<span class="go">startdate  1953-12-31  1953-12-31  ...  1953-12-31  1953-12-31</span>
<span class="go">enddate    2019-12-31  2019-12-31  ...  2019-12-31  2019-12-31</span>
<span class="go">count              67          67  ...          67          67</span>
<span class="go">mean            0.18%       0.15%  ...       0.13%       0.12%</span>
<span class="go">std             0.31%       0.26%  ...       0.18%       0.17%</span>
<span class="go">min            -0.44%      -0.36%  ...      -0.42%      -0.35%</span>
<span class="go">1%              -0.4%      -0.36%  ...      -0.31%       -0.3%</span>
<span class="go">10%            -0.15%      -0.15%  ...       -0.1%       -0.1%</span>
<span class="go">25%            -0.06%      -0.04%  ...       0.02%       0.02%</span>
<span class="go">50%             0.19%       0.16%  ...       0.15%       0.13%</span>
<span class="go">75%             0.34%       0.32%  ...       0.21%       0.23%</span>
<span class="go">90%             0.52%       0.49%  ...       0.36%       0.33%</span>
<span class="go">99%             0.99%       0.74%  ...       0.47%       0.43%</span>
<span class="go">max             1.14%       0.85%  ...        0.5%       0.49%</span>
<span class="go">skew             0.5%       0.24%  ...      -0.44%      -0.39%</span>
<span class="go">kurt            0.53%      -0.13%  ...       0.58%       0.01%</span>
<span class="go">mad             0.24%        0.2%  ...       0.13%       0.14%</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="go">*********************************** Summary Statistics: Number of Firms ***********************************</span>
<span class="go">          *********************************** ME (10) ************************************</span>

<span class="go">   *********************** Observation frequency: A ************************</span>
<span class="go">               me0-10     me10-20  ...     me80-90    me90-100</span>
<span class="go">startdate  1953-12-31  1953-12-31  ...  1953-12-31  1953-12-31</span>
<span class="go">enddate    2019-12-31  2019-12-31  ...  2019-12-31  2019-12-31</span>
<span class="go">count              67          67  ...          67          67</span>
<span class="go">mean             1521         416  ...         133         128</span>
<span class="go">std               975         261  ...          47          43</span>
<span class="go">min                37          39  ...          46          42</span>
<span class="go">1%                 40          41  ...          46          43</span>
<span class="go">10%                49          51  ...          50          49</span>
<span class="go">25%               584         177  ...         104         103</span>
<span class="go">50%              1723         418  ...         144         142</span>
<span class="go">75%              2366         562  ...         166         157</span>
<span class="go">90%              2743         789  ...         180         166</span>
<span class="go">99%              3085         954  ...         216         200</span>
<span class="go">max              3129         959  ...         222         208</span>
<span class="go">skew               -0           0  ...          -1          -1</span>
<span class="go">kurt               -1          -1  ...          -0          -0</span>
<span class="go">mad               842         208  ...          37          35</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="go">*********************************** Summary Statistics: Firm Characteristics ***********************************</span>
<span class="go">          *********************************** ME (10) ************************************</span>

<span class="go">   ************************** (Characteristic: ME) ***************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">me_port        me0-10     me10-20  ...     me80-90    me90-100</span>
<span class="go">startdate  1953-12-31  1953-12-31  ...  1953-12-31  1953-12-31</span>
<span class="go">enddate    2019-12-31  2019-12-31  ...  2019-12-31  2019-12-31</span>
<span class="go">count              67          67  ...          67          67</span>
<span class="go">mean               40      157.27  ...     5267.35     25637.9</span>
<span class="go">std             43.78      180.57  ...     6302.84     31790.4</span>
<span class="go">min              6.03       11.16  ...      225.93        1042</span>
<span class="go">1%               6.51        12.8  ...      264.12     1171.39</span>
<span class="go">10%              8.49       22.92  ...      520.41     2430.96</span>
<span class="go">25%              11.2       31.11  ...      715.65     3211.85</span>
<span class="go">50%             17.21       73.12  ...     2592.55     8974.88</span>
<span class="go">75%             50.27      231.63  ...     8063.43     47211.8</span>
<span class="go">90%            109.03      442.67  ...     14509.7     66863.5</span>
<span class="go">99%            163.79      646.97  ...     24173.2      123100</span>
<span class="go">max            203.33      812.66  ...     28221.9      147577</span>
<span class="go">skew             1.63        1.52  ...        1.55        1.58</span>
<span class="go">kurt             2.13        1.69  ...        2.06        2.46</span>
<span class="go">mad             34.27      143.62  ...     5000.12     25984.8</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="gp">In [11]: </span><span class="c1"># annual portfolios</span>
<span class="go">        _, _, _, = ff_A.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
<span class="go">        _, _, _, = ff_A.comparePortfolios(kfType=&#39;Characs&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>

<span class="go">*********************************** ME (10) ************************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">    ************************* Returns: 1953-12-31 to 2019-12-31 **************************</span>
<span class="go">Correlation matrix:</span>
<span class="go">        me30-40  me0-10  me90-100  me20-30  ...  me80-90  me40-50  me60-70  me70-80</span>
<span class="go">corr:    0.987   0.968     0.998    0.989  ...    0.994     0.99    0.988    0.979</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Average matrix:</span>
<span class="go">                          me30-40  ...          me70-80</span>
<span class="go">[wrds, kflib]:  [14.76%, 14.91%]  ...  [14.07%, 14.1%]</span>
<span class="go">[1 rows x 10 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                         me30-40  ...           me70-80</span>
<span class="go">[wrds, kflib]:  [21.83%, 22.8%]  ...  [18.14%, 18.61%]</span>
<span class="go">[1 rows x 10 columns]</span>

<span class="go">Elapsed time:  5.5  seconds.</span>

<span class="go">*********************************** ME (10) ************************************</span>
<span class="go">    *********************** Observation frequency: A ************************</span>
<span class="go">   ************************** (Characteristic: ME) ***************************</span>
<span class="go">   ******************************* NOT AVAILABLE *****************************</span>

<span class="go">Elapsed time:  5.396  seconds</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="portfolios-sorted-on-book-to-market-bm">
<h4>Portfolios Sorted on <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code><a class="headerlink" href="#portfolios-sorted-on-book-to-market-bm" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">ffportCharac</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;BM&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;BM&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="portfolios-sorted-on-book-to-market-bm-daily">
<h5>Portfolios Sorted on <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code> : Daily<a class="headerlink" href="#portfolios-sorted-on-book-to-market-bm-daily" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;D&#39;</span>
<span class="gp">In [8]: </span><span class="n">ff_D</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>(3 x 1) Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="gp">In [11]: </span><span class="c1"># daily portfolios</span>
<span class="go">         _, _, _, = ff_D.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
</pre></div>
</div>
<p><strong>(5 x 1) Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="gp">In [11]: </span><span class="c1"># daily portfolios</span>
<span class="go">         _, _, _, = ff_D.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
</pre></div>
</div>
<p><strong>(10 x 1) Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">           ff_D.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="gp">In [11]: </span><span class="c1"># daily portfolios</span>
<span class="go">         _, _, _, = ff_D.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="portfolios-sorted-on-book-to-market-bm-monthly">
<h5>Portfolios Sorted on <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code> : Monthly<a class="headerlink" href="#portfolios-sorted-on-book-to-market-bm-monthly" title="Permalink to this headline">¶</a></h5>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">ffFreq</span> <span class="o">=</span> <span class="s1">&#39;M&#39;</span>
<span class="gp">In [8]: </span><span class="n">ff_M</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">FamaFrench</span><span class="p">(</span><span class="n">runQuery</span><span class="o">=</span><span class="n">runQuery</span><span class="p">,</span> <span class="n">freqType</span><span class="o">=</span><span class="n">ffFreq</span><span class="p">,</span> <span class="n">sortCharacsId</span><span class="o">=</span><span class="n">ffsortCharac</span><span class="p">,</span> <span class="n">factorsId</span><span class="o">=</span><span class="n">ffFactors</span><span class="p">,</span> <span class="n">mainCharacsId</span><span class="o">=</span><span class="n">ffportCharac</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>(3 x 1) Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="go">CRSP (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">CRSP delisted returns (monthly) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">Compustat (annual) dataset currently NOT saved locally w/ required dates. Querying from wrds-cloud...</span>
<span class="go">*********************************** Summary Statistics: Portfolio Returns ***********************************</span>
<span class="go">          *********************************** BM (3) ************************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">               bm0-30     bm30-70    bm70-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             800         800         800</span>
<span class="go">mean            0.01%       0.01%       0.01%</span>
<span class="go">std             0.05%       0.04%       0.05%</span>
<span class="go">min            -0.24%      -0.21%      -0.21%</span>
<span class="go">1%             -0.11%       -0.1%      -0.13%</span>
<span class="go">10%            -0.05%      -0.04%      -0.04%</span>
<span class="go">25%            -0.02%      -0.01%      -0.01%</span>
<span class="go">50%             0.01%       0.01%       0.02%</span>
<span class="go">75%             0.04%       0.03%       0.04%</span>
<span class="go">90%             0.06%       0.06%       0.06%</span>
<span class="go">99%             0.11%       0.11%       0.12%</span>
<span class="go">max             0.21%       0.18%       0.23%</span>
<span class="go">skew           -0.42%      -0.43%       -0.4%</span>
<span class="go">kurt            1.86%       2.39%       2.49%</span>
<span class="go">mad             0.03%       0.03%       0.04%</span>

<span class="go">*********************************** Summary Statistics: Number of Firms ***********************************</span>
<span class="go">          *********************************** BM (3) ************************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">               bm0-30     bm30-70    bm70-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             800         800         800</span>
<span class="go">mean             1088        1062        1045</span>
<span class="go">std               634         543         603</span>
<span class="go">min                29          24          24</span>
<span class="go">1%                 95         125          94</span>
<span class="go">10%               104         136         103</span>
<span class="go">25%               593         602         478</span>
<span class="go">50%              1070        1198        1153</span>
<span class="go">75%              1640        1446        1368</span>
<span class="go">90%              1909        1645        1926</span>
<span class="go">99%              2132        2040        2243</span>
<span class="go">max              2187        2165        2332</span>
<span class="go">skew               -0          -0          -0</span>
<span class="go">kurt               -1          -1          -1</span>
<span class="go">mad               530         454         486</span>

<span class="go">*********************************** Summary Statistics: Firm Characteristics ***********************************</span>
<span class="go">          *********************************** BM (3) ************************************</span>

<span class="go">   ************************** (Characteristic: ME) ***************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">bm_port        bm0-30     bm30-70    bm70-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             800         800         800</span>
<span class="go">mean          3061.84     1744.29      687.78</span>
<span class="go">std           4372.63     2729.59     1026.88</span>
<span class="go">min            232.23       139.9       35.29</span>
<span class="go">1%             239.84      142.07       35.75</span>
<span class="go">10%            332.29      251.35       67.04</span>
<span class="go">25%            481.72      331.11      113.76</span>
<span class="go">50%            838.72      592.78      309.89</span>
<span class="go">75%           5436.18     1822.69      561.97</span>
<span class="go">90%           8036.61     4850.32     2080.76</span>
<span class="go">99%           18618.6     8482.18     5635.78</span>
<span class="go">max           27233.1     20797.4     5871.15</span>
<span class="go">skew             2.66        3.96         2.7</span>
<span class="go">kurt             9.49       22.15        8.22</span>
<span class="go">mad           3222.53     1727.27      697.83</span>

<span class="go">   ************************** (Characteristic: BM) ***************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">bm_port        bm0-30     bm30-70    bm70-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             800         800         800</span>
<span class="go">mean              0.3         0.7        1.35</span>
<span class="go">std              0.12        0.27        0.52</span>
<span class="go">min              0.07        0.31        0.73</span>
<span class="go">1%               0.13        0.39        0.74</span>
<span class="go">10%              0.16        0.44        0.83</span>
<span class="go">25%              0.21        0.51        0.97</span>
<span class="go">50%              0.25        0.65        1.26</span>
<span class="go">75%              0.38        0.82        1.54</span>
<span class="go">90%              0.49        1.08        1.88</span>
<span class="go">99%               0.7         1.8        3.61</span>
<span class="go">max              0.72         1.8        3.66</span>
<span class="go">skew             0.92         1.4        1.97</span>
<span class="go">kurt             0.46        2.68        5.83</span>
<span class="go">mad               0.1        0.21        0.37</span>

<span class="gp">In [11]: </span><span class="c1"># monthly portfolios</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;NumFirms&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Characs&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>

<span class="go">*********************************** BM (3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* Returns: 1953-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        bm0-30  bm30-70  bm70-100</span>
<span class="go">corr:   0.997    0.992     0.989</span>

<span class="go">Average matrix:</span>
<span class="go">                         bm0-30         bm30-70        bm70-100</span>
<span class="go">[wrds, kflib]:  [0.95%, 0.94%]  [1.01%, 0.99%]  [1.18%, 1.18%]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                         bm0-30         bm30-70        bm70-100</span>
<span class="go">[wrds, kflib]:  [4.53%, 4.46%]  [4.15%, 4.14%]  [4.82%, 4.86%]</span>

<span class="go">Elapsed time:  4.789  seconds.</span>

<span class="go">*********************************** BM (3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* NumFirms: 1953-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        bm0-30  bm30-70  bm70-100</span>
<span class="go">corr:   0.986    0.973     0.984</span>

<span class="go">Average matrix:</span>
<span class="go">                       bm0-30       bm30-70      bm70-100</span>
<span class="go">[wrds, kflib]:  [1088, 1100]  [1062, 1087]  [1045, 1026]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                     bm0-30     bm30-70    bm70-100</span>
<span class="go">[wrds, kflib]:  [634, 588]  [543, 473]  [603, 531]</span>

<span class="go">Elapsed time:  4.502  seconds.</span>

<span class="go">*********************************** BM (3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* (Characteristic: ME): 1953-07-31 to 2020-02-29 ***************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        bm0-30  bm30-70  bm70-100</span>
<span class="go">corr:   0.973    0.852     0.961</span>

<span class="go">Average matrix:</span>
<span class="go">                             bm0-30             bm30-70          bm70-100</span>
<span class="go">[wrds, kflib]:  [3061.84, 2812.73]  [1744.29, 1520.57]  [687.78, 711.19]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                             bm0-30             bm30-70            bm70-100</span>
<span class="go">[wrds, kflib]:  [4372.63, 3968.86]  [2729.59, 2041.68]  [1026.88, 1036.67]</span>

<span class="go">*********************************** BM (3) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">   ************************** (Characteristic: BM) ***************************</span>
<span class="go">   ******************************* NOT AVAILABLE *****************************</span>

<span class="go">Elapsed time:  4.481  seconds.</span>
</pre></div>
</div>
<p><strong>(5 x 1) Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="go">*********************************** Summary Statistics: Portfolio Returns ***********************************</span>
<span class="go">          *********************************** BM (5) ************************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">               bm0-20     bm20-40     bm40-60     bm60-80    bm80-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  1953-07-31  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             800         800         800         800         800</span>
<span class="go">mean            0.01%       0.01%       0.01%       0.01%       0.01%</span>
<span class="go">std             0.05%       0.04%       0.04%       0.04%       0.05%</span>
<span class="go">min            -0.24%      -0.25%      -0.22%      -0.24%      -0.21%</span>
<span class="go">1%             -0.11%      -0.11%       -0.1%      -0.12%      -0.13%</span>
<span class="go">10%            -0.05%      -0.04%      -0.04%      -0.04%      -0.05%</span>
<span class="go">25%            -0.02%      -0.02%      -0.01%      -0.01%      -0.02%</span>
<span class="go">50%             0.01%       0.01%       0.01%       0.01%       0.02%</span>
<span class="go">75%             0.04%       0.04%       0.04%       0.04%       0.04%</span>
<span class="go">90%             0.06%       0.06%       0.06%       0.06%       0.07%</span>
<span class="go">99%             0.11%       0.11%       0.11%       0.11%       0.13%</span>
<span class="go">max             0.22%       0.16%       0.17%       0.22%       0.26%</span>
<span class="go">skew           -0.37%      -0.48%      -0.44%      -0.53%      -0.23%</span>
<span class="go">kurt            1.67%       2.16%       2.29%       3.48%       2.04%</span>
<span class="go">mad             0.04%       0.03%       0.03%       0.03%       0.04%</span>

<span class="go">*********************************** Summary Statistics: Number of Firms ***********************************</span>
<span class="go">          *********************************** BM (5) ************************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">               bm0-20     bm20-40     bm40-60     bm60-80    bm80-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  1953-07-31  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             800         800         800         800         800</span>
<span class="go">mean              804         553         525         560         752</span>
<span class="go">std               491         284         270         301         445</span>
<span class="go">min                19          15          14          13          16</span>
<span class="go">1%                 65          63          63          63          64</span>
<span class="go">10%                69          69          68          68          69</span>
<span class="go">25%               405         343         290         281         325</span>
<span class="go">50%               784         627         589         627         836</span>
<span class="go">75%              1246         767         723         715        1007</span>
<span class="go">90%              1464         844         798         934        1399</span>
<span class="go">99%              1656        1078        1044        1178        1655</span>
<span class="go">max              1692        1155        1133        1235        1746</span>
<span class="go">skew               -0          -0          -0          -0          -0</span>
<span class="go">kurt               -1          -1          -1          -1          -1</span>
<span class="go">mad               414         238         224         243         362</span>

<span class="go">*********************************** Summary Statistics: Firm Characteristics ***********************************</span>
<span class="go">          *********************************** BM (5) ************************************</span>

<span class="go">   ************************** (Characteristic: ME) ***************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">bm_port        bm0-20     bm20-40     bm40-60     bm60-80    bm80-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  1953-07-31  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             800         800         800         800         800</span>
<span class="go">mean           3295.4     2528.11     1600.91     1099.05      538.89</span>
<span class="go">std           5150.17     4072.37     2048.53     1453.59      782.87</span>
<span class="go">min            209.09      177.45       151.3       69.07       26.42</span>
<span class="go">1%             217.28      181.17      152.36       70.26       26.69</span>
<span class="go">10%             350.7      263.06         217      128.15       48.26</span>
<span class="go">25%            542.22         366      306.52      212.81       91.58</span>
<span class="go">50%            839.15      733.43      600.21      530.33      208.56</span>
<span class="go">75%           5751.78     2940.28      1918.5     1065.85      447.98</span>
<span class="go">90%           7621.09     7368.07     4642.98     3358.62     1841.48</span>
<span class="go">99%           20946.8     12469.8      7983.8     8305.23     3417.73</span>
<span class="go">max           37614.7     30047.6     8086.98     8495.83     3588.63</span>
<span class="go">skew              3.7        3.69        1.78        2.56        2.11</span>
<span class="go">kurt            19.18       19.37        2.18        8.12        3.68</span>
<span class="go">mad           3484.21     2633.91     1535.61     1017.34      559.67</span>

<span class="go">   ************************** (Characteristic: BM) ***************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">bm_port        bm0-20     bm20-40     bm40-60     bm60-80    bm80-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  1953-07-31  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  2020-02-29  2020-02-29  2020-02-29</span>
<span class="go">count             800         800         800         800         800</span>
<span class="go">mean             0.25        0.51        0.71        0.96         1.6</span>
<span class="go">std              0.11         0.2        0.27        0.35        0.67</span>
<span class="go">min              0.06        0.26        0.35        0.54        0.82</span>
<span class="go">1%               0.11        0.26         0.4        0.54        0.83</span>
<span class="go">10%              0.13        0.31        0.45        0.62        0.96</span>
<span class="go">25%              0.18        0.36        0.52         0.7        1.17</span>
<span class="go">50%              0.21        0.48        0.67        0.89         1.5</span>
<span class="go">75%              0.31        0.61        0.83        1.11        1.81</span>
<span class="go">90%              0.42         0.8        1.08        1.46        2.19</span>
<span class="go">99%              0.54        1.32        1.83         2.5        4.45</span>
<span class="go">max              0.55        1.32        1.83         2.5        5.31</span>
<span class="go">skew              0.8        1.41        1.45        1.63        2.49</span>
<span class="go">kurt            -0.17        2.71        2.99        3.81        9.12</span>
<span class="go">mad              0.09        0.15         0.2        0.26        0.45</span>

<span class="gp">In [11]: </span><span class="c1"># monthly portfolios</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;NumFirms&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Characs&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>

<span class="go">*********************************** BM (5) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* Returns: 1953-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        bm80-100  bm20-40  bm0-20  bm40-60  bm60-80</span>
<span class="go">corr:     0.979    0.989   0.996    0.982     0.97</span>

<span class="go">Average matrix:</span>
<span class="go">                      bm80-100         bm20-40  ...         bm40-60         bm60-80</span>
<span class="go">[wrds, kflib]:  [1.3%, 1.21%]  [0.96%, 0.96%]  ...  [1.03%, 1.06%]  [1.01%, 1.04%]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                       bm80-100         bm20-40  ...         bm40-60         bm60-80</span>
<span class="go">[wrds, kflib]:  [5.12%, 5.22%]  [4.39%, 4.28%]  ...  [4.19%, 4.15%]  [4.47%, 4.47%]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Elapsed time:  4.899  seconds.</span>

<span class="go">*********************************** BM (5) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* NumFirms: 1953-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        bm80-100  bm20-40  bm0-20  bm40-60  bm60-80</span>
<span class="go">corr:     0.988    0.973   0.989    0.976    0.969</span>

<span class="go">Average matrix:</span>
<span class="go">                   bm80-100     bm20-40      bm0-20     bm40-60     bm60-80</span>
<span class="go">[wrds, kflib]:  [752, 733]  [553, 567]  [804, 807]  [525, 537]  [560, 569]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                   bm80-100     bm20-40      bm0-20     bm40-60     bm60-80</span>
<span class="go">[wrds, kflib]:  [445, 397]  [284, 251]  [491, 459]  [270, 235]  [301, 262]</span>

<span class="go">Elapsed time:  4.74  seconds.</span>

<span class="go">*********************************** BM (5) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* (Characteristic: ME): 1953-07-31 to 2020-02-29 ***************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        bm80-100  bm20-40  bm0-20  bm40-60  bm60-80</span>
<span class="go">corr:     0.966     0.89   0.941    0.974    0.924</span>

<span class="go">Average matrix:</span>
<span class="go">                         bm80-100  ...             bm60-80</span>
<span class="go">[wrds, kflib]:  [538.89, 559.61]  ...  [1099.05, 1145.39]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                         bm80-100  ...             bm60-80</span>
<span class="go">[wrds, kflib]:  [782.87, 823.04]  ...  [1453.59, 1593.26]</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="go">*********************************** BM (5) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">   ************************** (Characteristic: BM) ***************************</span>
<span class="go">   ******************************* NOT AVAILABLE *****************************</span>

<span class="go">Elapsed time:  4.758  seconds.</span>
</pre></div>
</div>
<p><strong>(10 x 1) Sorts</strong>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sortingDim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="gp">In [10]: </span><span class="c1"># Summary statistics</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Returns&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim, pRetType=&#39;vw&#39;)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;NumFirms&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>
<span class="go">         ff_M.getFamaFrenchStats(dataType=&#39;Characs&#39;, dataFreq=ffFreq, dt_start=startDate, dt_end=endDate, pDim=sortingDim)</span>

<span class="go">*********************************** Summary Statistics: Portfolio Returns ***********************************</span>
<span class="go">          *********************************** BM (10) ************************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">               bm0-10     bm10-20  ...     bm80-90    bm90-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  ...  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  ...  2020-02-29  2020-02-29</span>
<span class="go">count             800         800  ...         800         800</span>
<span class="go">mean            0.01%       0.01%  ...       0.01%       0.01%</span>
<span class="go">std             0.05%       0.05%  ...       0.05%       0.06%</span>
<span class="go">min            -0.23%      -0.25%  ...       -0.2%      -0.23%</span>
<span class="go">1%             -0.12%      -0.11%  ...      -0.13%      -0.16%</span>
<span class="go">10%            -0.05%      -0.05%  ...      -0.05%      -0.06%</span>
<span class="go">25%            -0.02%      -0.02%  ...      -0.02%      -0.02%</span>
<span class="go">50%             0.01%       0.01%  ...       0.02%       0.02%</span>
<span class="go">75%             0.04%       0.04%  ...       0.04%       0.05%</span>
<span class="go">90%             0.07%       0.06%  ...       0.07%       0.07%</span>
<span class="go">99%             0.12%       0.11%  ...       0.13%       0.16%</span>
<span class="go">max             0.23%       0.19%  ...       0.22%       0.31%</span>
<span class="go">skew           -0.28%      -0.44%  ...       -0.2%      -0.24%</span>
<span class="go">kurt            1.42%       1.73%  ...       1.66%        2.9%</span>
<span class="go">mad             0.04%       0.04%  ...       0.04%       0.04%</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="go">*********************************** Summary Statistics: Number of Firms ***********************************</span>
<span class="go">          *********************************** BM (10) ************************************</span>

<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">               bm0-10     bm10-20  ...     bm80-90    bm90-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  ...  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  ...  2020-02-29  2020-02-29</span>
<span class="go">count             800         800  ...         800         800</span>
<span class="go">mean              483         321  ...         338         415</span>
<span class="go">std               331         173  ...         202         253</span>
<span class="go">min                 5          14  ...           8           8</span>
<span class="go">1%                 32          32  ...          32          32</span>
<span class="go">10%                34          35  ...          34          35</span>
<span class="go">25%               209         194  ...         138         182</span>
<span class="go">50%               422         359  ...         370         451</span>
<span class="go">75%               799         459  ...         443         579</span>
<span class="go">90%               963         537  ...         631         682</span>
<span class="go">99%              1139         599  ...         807         989</span>
<span class="go">max              1207         620  ...         894        1026</span>
<span class="go">skew                0          -0  ...           0           0</span>
<span class="go">kurt               -1          -1  ...          -1          -1</span>
<span class="go">mad               282         143  ...         163         206</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="go">*********************************** Summary Statistics: Firm Characteristics ***********************************</span>
<span class="go">         *********************************** BM (10) ************************************</span>

<span class="go">     ************************** (Characteristic: ME) ***************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">bm_port        bm0-10     bm10-20  ...     bm80-90    bm90-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  ...  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  ...  2020-02-29  2020-02-29</span>
<span class="go">count             800         800  ...         800         800</span>
<span class="go">mean          3577.64     3098.58  ...      710.14       391.7</span>
<span class="go">std           6269.73     4712.12  ...      986.12      611.44</span>
<span class="go">min            147.22      205.62  ...       34.08       18.17</span>
<span class="go">1%              153.7      205.62  ...       34.45       18.17</span>
<span class="go">10%            358.77      336.39  ...       61.72       29.48</span>
<span class="go">25%            554.07      468.85  ...       101.7       71.46</span>
<span class="go">50%           1077.72      793.22  ...      307.38      129.21</span>
<span class="go">75%           5465.65     5255.08  ...      676.31       261.6</span>
<span class="go">90%           8527.31     7991.98  ...     2391.08     1501.81</span>
<span class="go">99%           22960.3     18812.6  ...     4506.64     2410.72</span>
<span class="go">max           51165.5     32775.2  ...     4664.76     2498.37</span>
<span class="go">skew             4.89        3.26  ...        2.08        2.08</span>
<span class="go">kurt            31.93        15.1  ...        3.73        3.07</span>
<span class="go">mad           3762.89      3298.7  ...      695.71      432.34</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="go">   ************************** (Characteristic: BM) ***************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">bm_port        bm0-10     bm10-20  ...     bm80-90    bm90-100</span>
<span class="go">startdate  1953-07-31  1953-07-31  ...  1953-07-31  1953-07-31</span>
<span class="go">enddate    2020-02-29  2020-02-29  ...  2020-02-29  2020-02-29</span>
<span class="go">count             800         800  ...         800         800</span>
<span class="go">mean             0.19        0.34  ...        1.29        2.05</span>
<span class="go">std              0.09        0.13  ...        0.47        0.92</span>
<span class="go">min              0.01        0.09  ...        0.71           1</span>
<span class="go">1%               0.07        0.16  ...        0.72        1.01</span>
<span class="go">10%              0.09         0.2  ...        0.82        1.21</span>
<span class="go">25%              0.13        0.24  ...        0.95        1.42</span>
<span class="go">50%              0.16         0.3  ...        1.22        1.87</span>
<span class="go">75%              0.24        0.41  ...        1.43        2.31</span>
<span class="go">90%              0.33        0.54  ...        1.85        2.81</span>
<span class="go">99%              0.39         0.8  ...        3.56        5.67</span>
<span class="go">max              0.39         0.8  ...        3.57        7.55</span>
<span class="go">skew             0.72        0.96  ...        1.97        2.91</span>
<span class="go">kurt            -0.29        0.71  ...        6.53       12.49</span>
<span class="go">mad              0.07        0.11  ...        0.34         0.6</span>

<span class="go">[17 rows x 10 columns]</span>

<span class="gp">In [11]: </span><span class="c1"># monthly portfolios</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Returns&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim, kfRetType=&#39;vw&#39;)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;NumFirms&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>
<span class="go">         _, _, _, = ff_M.comparePortfolios(kfType=&#39;Characs&#39;, kfFreq=ffFreq, dt_start=startDate, dt_end=endDate, kfDim=sortingDim)</span>

<span class="go">*********************************** BM (10) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* Returns: 1953-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        bm0-10  bm20-30  bm10-20  bm80-90  ...  bm60-70  bm70-80  bm90-100  bm50-60</span>
<span class="go">corr:   0.991    0.974    0.982     0.96  ...    0.943    0.954     0.973    0.955</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Average matrix:</span>
<span class="go">                         bm0-10         bm20-30  ...       bm90-100         bm50-60</span>
<span class="go">[wrds, kflib]:  [0.91%, 0.92%]  [0.98%, 0.98%]  ...  [1.3%, 1.21%]  [1.07%, 1.08%]</span>

<span class="go">[1 rows x 10 columns]</span>
<span class="go">Std Deviation matrix:</span>
<span class="go">                         bm0-10         bm20-30  ...        bm90-100         bm50-60</span>
<span class="go">[wrds, kflib]:  [4.92%, 4.86%]  [4.47%, 4.36%]  ...  [5.76%, 6.06%]  [4.37%, 4.22%]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Elapsed time:  4.8  seconds.</span>

<span class="go">*********************************** BM (10) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* NumFirms: 1953-07-31 to 2020-02-29 **************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        bm0-10  bm20-30  bm10-20  bm80-90  ...  bm60-70  bm70-80  bm90-100  bm50-60</span>
<span class="go">corr:   0.993    0.972    0.976    0.983  ...    0.962    0.967     0.988    0.972</span>
<span class="go">[1 rows x 10 columns]</span>

<span class="go">Average matrix:</span>
<span class="go">                     bm0-10     bm20-30  ...    bm90-100     bm50-60</span>
<span class="go">[wrds, kflib]:  [483, 482]  [284, 293]  ...  [415, 400]  [263, 269]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                     bm0-10     bm20-30  ...    bm90-100     bm50-60</span>
<span class="go">[wrds, kflib]:  [331, 311]  [149, 134]  ...  [253, 228]  [136, 118]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Elapsed time:  4.741  seconds.</span>
<span class="go">*********************************** BM (10) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">    ************************* (Characteristic: ME): 1953-07-31 to 2020-02-29 ***************************</span>

<span class="go">Correlation matrix:</span>
<span class="go">        bm0-10  bm20-30  bm10-20  bm80-90  ...  bm60-70  bm70-80  bm90-100  bm50-60</span>
<span class="go">corr:   0.918    0.965    0.925    0.965  ...    0.887    0.946     0.965     0.97</span>

<span class="go"> [1 rows x 10 columns]</span>

<span class="go">Average matrix:</span>
<span class="go">                             bm0-10  ...             bm50-60</span>
<span class="go">[wrds, kflib]:  [3577.64, 3031.17]  ...  [1502.36, 1360.03]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">Std Deviation matrix:</span>
<span class="go">                             bm0-10  ...             bm50-60</span>
<span class="go">[wrds, kflib]:  [6269.73, 4359.65]  ...  [1925.28, 1776.52]</span>

<span class="go">[1 rows x 10 columns]</span>

<span class="go">*********************************** BM (10) ************************************</span>
<span class="go">    *********************** Observation frequency: M ************************</span>
<span class="go">   ************************** (Characteristic: BM) ***************************</span>
<span class="go">   ******************************* NOT AVAILABLE *****************************</span>

<span class="go">Elapsed time:  4.746  seconds.</span>
</pre></div>
</div>
</div>
<div class="section" id="portfolios-sorted-on-book-to-market-bm-annual">
<h5>Portfolios Sorted on <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code> : Annual<a class="headerlink" href="#portfolios-sorted-on-book-to-market-bm-annual" title="Permalink to this headline">¶</a></h5>
<p><strong>(3 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(5 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(10 x 1) Sorts</strong>:</p>
<p>TODO</p>
</div>
</div>
<div class="section" id="portfolios-sorted-on-operating-profitability-op">
<h4>Portfolios Sorted on <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code><a class="headerlink" href="#portfolios-sorted-on-operating-profitability-op" title="Permalink to this headline">¶</a></h4>
<div class="section" id="portfolios-sorted-on-operating-profitability-op-monthly">
<h5>Portfolios Sorted on <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code> : Monthly<a class="headerlink" href="#portfolios-sorted-on-operating-profitability-op-monthly" title="Permalink to this headline">¶</a></h5>
<p><strong>(3 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(5 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(10 x 1) Sorts</strong>:</p>
<p>TODO</p>
</div>
<div class="section" id="portfolios-sorted-on-operating-profitability-op-annual">
<h5>Portfolios Sorted on <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code> : Annual<a class="headerlink" href="#portfolios-sorted-on-operating-profitability-op-annual" title="Permalink to this headline">¶</a></h5>
<p><strong>(3 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(5 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(10 x 1) Sorts</strong>:</p>
<p>TODO</p>
</div>
</div>
<div class="section" id="portfolios-sorted-on-investment-inv">
<h4>Portfolios Sorted on <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code><a class="headerlink" href="#portfolios-sorted-on-investment-inv" title="Permalink to this headline">¶</a></h4>
<div class="section" id="portfolios-sorted-on-investment-inv-monthly">
<h5>Portfolios Sorted on <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code> : Monthly<a class="headerlink" href="#portfolios-sorted-on-investment-inv-monthly" title="Permalink to this headline">¶</a></h5>
<p><strong>(3 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(5 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(10 x 1) Sorts</strong>:</p>
<p>TODO</p>
</div>
<div class="section" id="portfolios-sorted-on-investment-inv-annual">
<h5>Portfolios Sorted on <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code> : Annual<a class="headerlink" href="#portfolios-sorted-on-investment-inv-annual" title="Permalink to this headline">¶</a></h5>
<p><strong>(3 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(5 x 1) Sorts</strong>:</p>
<p>TODO</p>
<p><strong>(10 x 1) Sorts</strong>:</p>
<p>TODO</p>
</div>
</div>
<div class="section" id="portfolios-sorted-on-size-me-book-to-market-bm">
<h4>Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> &amp; <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code><a class="headerlink" href="#portfolios-sorted-on-size-me-book-to-market-bm" title="Permalink to this headline">¶</a></h4>
<p>TODO</p>
</div>
<div class="section" id="portfolios-sorted-on-size-me-operating-profitability-op">
<h4>Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> &amp; <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code><a class="headerlink" href="#portfolios-sorted-on-size-me-operating-profitability-op" title="Permalink to this headline">¶</a></h4>
<p>TODO</p>
</div>
<div class="section" id="portfolios-sorted-on-size-me-investment-inv">
<h4>Portfolios Sorted on <cite>Size</cite> <code class="docutils literal notranslate"><span class="pre">ME</span></code> &amp; <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code><a class="headerlink" href="#portfolios-sorted-on-size-me-investment-inv" title="Permalink to this headline">¶</a></h4>
<p>TODO</p>
</div>
<div class="section" id="portfolios-sorted-on-book-to-market-bm-operating-profitability-op">
<h4>Portfolios Sorted on <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code> &amp; <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code><a class="headerlink" href="#portfolios-sorted-on-book-to-market-bm-operating-profitability-op" title="Permalink to this headline">¶</a></h4>
<p>TODO</p>
</div>
<div class="section" id="portfolios-sorted-on-book-to-market-bm-investment-inv">
<h4>Portfolios Sorted on <cite>Book-to-Market</cite> <code class="docutils literal notranslate"><span class="pre">BM</span></code> &amp; <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code><a class="headerlink" href="#portfolios-sorted-on-book-to-market-bm-investment-inv" title="Permalink to this headline">¶</a></h4>
<p>TODO</p>
</div>
<div class="section" id="portfolios-sorted-on-operating-profitability-op-investment-inv">
<h4>Portfolios Sorted on <cite>Operating Profitability</cite> <code class="docutils literal notranslate"><span class="pre">OP</span></code> &amp; <cite>Investment</cite> <code class="docutils literal notranslate"><span class="pre">INV</span></code><a class="headerlink" href="#portfolios-sorted-on-operating-profitability-op-investment-inv" title="Permalink to this headline">¶</a></h4>
<p>TODO</p>
</div>
</div>
<span id="document-wrdsconnection/wrdsconnection"></span><div class="section" id="connecting-to-wrds-cloud">
<span id="wrdsconnection"></span><h3>Connecting to <code class="docutils literal notranslate"><span class="pre">wrds-cloud</span></code><a class="headerlink" href="#connecting-to-wrds-cloud" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.wrdsconnect.wrdsConnection" title="famafrench.wrdsconnect.wrdsConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wrdsconnect.wrdsConnection</span></code></a>([autoconnect])</p></td>
<td><p>Class for setting up the remote connection to <cite>wrds-cloud</cite>; largely builds on the <code class="docutils literal notranslate"><span class="pre">Connection</span></code> class in the <a class="reference external" href="https://pypi.org/project/wrds/0.0.5/">WRDS-Py library</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<span id="document-wrdscloudquery/wrdscloudquery"></span><div class="section" id="famafrench-tools">
<span id="wrdscloudquery"></span><h3><code class="docutils literal notranslate"><span class="pre">FamaFrench</span></code> Tools<a class="headerlink" href="#famafrench-tools" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.queryComp" title="famafrench.FamaFrench.queryComp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">queryComp</span></code></a></p></td>
<td><p>Query Compustat Fundamentals Annual files from <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.queryCrsp" title="famafrench.FamaFrench.queryCrsp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">queryCrsp</span></code></a></p></td>
<td><p>Query CRSP Stock/Security files from <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.queryCrspdlret" title="famafrench.FamaFrench.queryCrspdlret"><code class="xref py py-obj docutils literal notranslate"><span class="pre">queryCrspdlret</span></code></a></p></td>
<td><p>Query CRSP’s Stock Event - Delisting files on <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.queryrf1m" title="famafrench.FamaFrench.queryrf1m"><code class="xref py py-obj docutils literal notranslate"><span class="pre">queryrf1m</span></code></a></p></td>
<td><p>Query the risk-free interest rate (ie 1-month Treasury Bill rate) from <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getCrspDailyRollVar" title="famafrench.FamaFrench.getCrspDailyRollVar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getCrspDailyRollVar</span></code></a></p></td>
<td><p>Calculate rolling <cite>daily</cite> variance of stock returns for all CRSP stocks queried from <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.aggregateME" title="famafrench.FamaFrench.aggregateME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aggregateME</span></code></a></p></td>
<td><p>Aggregate market value of equity <strong>me</strong> for cases in which the same firm (ie single <strong>permco</strong> identifer) has two or more securities (ie multiple <strong>permno</strong> identifiers) for a given <strong>date</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getMEDec" title="famafrench.FamaFrench.getMEDec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getMEDec</span></code></a></p></td>
<td><p>Construct market value of equity <strong>me</strong> for Decemeber of every year.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getMEJune" title="famafrench.FamaFrench.getMEJune"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getMEJune</span></code></a></p></td>
<td><p>Construct market value of equity <strong>me</strong> for June of every year.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.mergeCCM" title="famafrench.FamaFrench.mergeCCM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mergeCCM</span></code></a></p></td>
<td><p>Query the CRSP/Compustat (CCM) Merged Linking Table needed to merge CRSP securities to Compustat companies on (<strong>permno</strong>, <strong>gvkey</strong>) identifier pairs.</p></td>
</tr>
</tbody>
</table>
</div>
<span id="document-portfolios/factorregressions"></span><div class="section" id="overview">
<span id="factorregressions"></span><h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getFactorRegResults" title="famafrench.FamaFrench.getFactorRegResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getFactorRegResults</span></code></a></p></td>
<td><p>Estimate factor-based quantities of risk (specifically, market betas) as well as residuals using rolling regressions.</p></td>
</tr>
</tbody>
</table>
</div>
<span id="document-portfolios/portfoliosorting"></span><div class="section" id="overview">
<span id="portfoliosorting"></span><h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getNyseThresholdsAndRet" title="famafrench.FamaFrench.getNyseThresholdsAndRet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNyseThresholdsAndRet</span></code></a></p></td>
<td><p>Select NYSE stocks used in the construction of breakpoints (ie thresholds) for portfolio sorting.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getPortfolios" title="famafrench.FamaFrench.getPortfolios"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getPortfolios</span></code></a></p></td>
<td><p>Generalized routine used to construct datasets containing portfolio returns (which may include factor returns), number of firms in each portfolio, or <cite>average</cite> anomaly portfolio characteristics at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getPortfolioReturns" title="famafrench.FamaFrench.getPortfolioReturns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getPortfolioReturns</span></code></a></p></td>
<td><p>Construct dataset w/ portfolio returns (which may include factor returns) at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getNumFirms" title="famafrench.FamaFrench.getNumFirms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNumFirms</span></code></a></p></td>
<td><p>Construct dataset w/ number of firms in each portfolio at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getCharacs" title="famafrench.FamaFrench.getCharacs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getCharacs</span></code></a></p></td>
<td><p>Construct <cite>average</cite> anomaly portfolio characteristics at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getFFfactors" title="famafrench.FamaFrench.getFFfactors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getFFfactors</span></code></a></p></td>
<td><p>Construct dataset w/  Fama-French-style factors at a given frequency and for a given sample period.</p></td>
</tr>
</tbody>
</table>
</div>
<span id="document-kflibrary/kflibrary"></span><div class="section" id="overview">
<span id="kflibrary"></span><h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.kfLibrary" title="famafrench.FamaFrench.kfLibrary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kfLibrary</span></code></a></p></td>
<td><p>Generalized routine used to query datasets from Ken French’s online library at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getkfPortfolioReturns" title="famafrench.FamaFrench.getkfPortfolioReturns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getkfPortfolioReturns</span></code></a></p></td>
<td><p>Query portfolio returns from Ken French’s online library at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getkfNumFirms" title="famafrench.FamaFrench.getkfNumFirms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getkfNumFirms</span></code></a></p></td>
<td><p>Query number of firms in each portfolio from Ken French’s online data library at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getkfCharacs" title="famafrench.FamaFrench.getkfCharacs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getkfCharacs</span></code></a></p></td>
<td><p>Query <cite>average</cite> anomaly portfolio characteristics from Ken French’s online library at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getkfFFfactors" title="famafrench.FamaFrench.getkfFFfactors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getkfFFfactors</span></code></a></p></td>
<td><p>Query Fama-French-style factors from Ken French’s online library at a given frequency and for a given sample period.</p></td>
</tr>
</tbody>
</table>
</div>
<span id="document-statistics-diagnostics/statistics"></span><div class="section" id="overview">
<span id="statistics"></span><h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getFamaFrenchStats" title="famafrench.FamaFrench.getFamaFrenchStats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getFamaFrenchStats</span></code></a>(self, dataType, dataFreq, …)</p></td>
<td><p>Detailed summary statistics tables of portfolio returns (which may include factor returns), number of firms in each portfolio, or <cite>average</cite> anomaly portfolio characteristics at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.comparePortfolios" title="famafrench.FamaFrench.comparePortfolios"><code class="xref py py-obj docutils literal notranslate"><span class="pre">comparePortfolios</span></code></a>(self, kfType, kfFreq, …)</p></td>
<td><p>Generalized routine used to compare datasets constructed from <cite>wrds-cloud</cite> queries to their equivalents made publicly available on <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online library</a> at a given frequency and for a given sample period.</p></td>
</tr>
</tbody>
</table>
</div>
<span id="document-utils/utils"></span><div class="section" id="overview">
<span id="utils"></span><h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.utils.lru_cached_method" title="famafrench.utils.lru_cached_method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lru_cached_method</span></code></a></p></td>
<td><p>Wrapper for <code class="xref py py-func docutils literal notranslate"><span class="pre">methodtools.lru_cache()</span></code> enabling recognition of <cite>decorated</cite> class instance methods by <a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.utils.get_kfpriorfactors_directly" title="famafrench.utils.get_kfpriorfactors_directly"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_kfpriorfactors_directly</span></code></a></p></td>
<td><p>Directly download (from Ken French’s online library) zipped monthly or annual datafiles for the <cite>Short-Term Reversal</cite> or <cite>Long-Term Reversal</cite> Fama-French-style factors.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.utils.timing" title="famafrench.utils.timing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timing</span></code></a></p></td>
<td><p>Wrapper for class instance methods enabling the timing of execution.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.utils.any_in" title="famafrench.utils.any_in"><code class="xref py py-obj docutils literal notranslate"><span class="pre">any_in</span></code></a></p></td>
<td><p>Boolean variable that is <code class="docutils literal notranslate"><span class="pre">True</span></code> if elements in a given set <cite>a_set</cite> intersect with elements in another set <cite>b_set</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.utils.priormonthToDay" title="famafrench.utils.priormonthToDay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">priormonthToDay</span></code></a></p></td>
<td><p>Consistent w/ Fama and French (2008, 2016), map the prior <cite>(j-k)</cite> monthly return strategy into a daily strategy (see <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online documentation</a>).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.utils.grouped_vwAvg" title="famafrench.utils.grouped_vwAvg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">grouped_vwAvg</span></code></a></p></td>
<td><p>Calculate (net) weighted portfolio return for portfolio with weights <code class="docutils literal notranslate"><span class="pre">col_weights</span></code> within a group or groups.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.utils.portRetAvg" title="famafrench.utils.portRetAvg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">portRetAvg</span></code></a></p></td>
<td><p>Compute a simple average across different columns.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.utils.get_statsTable" title="famafrench.utils.get_statsTable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_statsTable</span></code></a></p></td>
<td><p>Construct detailed tables with summary statistics.</p></td>
</tr>
</tbody>
</table>
</div>
<span id="document-api"></span><div class="section" id="api-reference">
<span id="api"></span><h3>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h3>
<p>This is a comprehensive reference for everything you get when you <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">famafrench</span></code>.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#famafrench-constructor" id="id2"><code class="docutils literal notranslate"><span class="pre">FamaFrench</span></code> Constructor</a></p></li>
<li><p><a class="reference internal" href="#wrdsconnection-constructor" id="id3"><code class="docutils literal notranslate"><span class="pre">wrdsConnection</span></code> Constructor</a></p></li>
<li><p><a class="reference internal" href="#connecting-to-wrds-cloud" id="id4">Connecting to <code class="docutils literal notranslate"><span class="pre">wrds-cloud</span></code></a></p></li>
<li><p><a class="reference internal" href="#wrds-cloud-query-tools" id="id5"><code class="docutils literal notranslate"><span class="pre">wrds-cloud</span></code> Query Tools</a></p></li>
<li><p><a class="reference internal" href="#estimating-market-betas-and-rolling-residual-variances" id="id6">Estimating Market Betas and Rolling Residual Variances</a></p></li>
<li><p><a class="reference internal" href="#constructing-portfolios-and-return-based-factors" id="id7">Constructing Portfolios and Return-Based Factors</a></p></li>
<li><p><a class="reference internal" href="#comparing-to-ken-french-s-online-library" id="id8">Comparing to Ken French’s Online Library</a></p></li>
<li><p><a class="reference internal" href="#summary-statistics-and-diagnostics" id="id9">Summary Statistics and Diagnostics</a></p></li>
<li><p><a class="reference internal" href="#auxiliary-functions-and-utilities" id="id10">Auxiliary Functions and Utilities</a></p></li>
</ul>
</div>
<span class="target" id="module-famafrench"></span><div class="section" id="famafrench-constructor">
<h4><a class="toc-backref" href="#id2"><code class="docutils literal notranslate"><span class="pre">FamaFrench</span></code> Constructor</a><a class="headerlink" href="#famafrench-constructor" title="Permalink to this headline">¶</a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench" title="famafrench.FamaFrench"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FamaFrench</span></code></a></p></td>
<td><p>Class providing tools for constructing and replicating datasets from <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online library</a> via queries to CRSP, Compustat Fundamentals Annual, and other sources accessed through <a class="reference external" href="https://wrds-www.wharton.upenn.edu/">wrds-cloud</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="wrdsconnection-constructor">
<h4><a class="toc-backref" href="#id3"><code class="docutils literal notranslate"><span class="pre">wrdsConnection</span></code> Constructor</a><a class="headerlink" href="#wrdsconnection-constructor" title="Permalink to this headline">¶</a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.wrdsconnect.wrdsConnection" title="famafrench.wrdsconnect.wrdsConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wrdsConnection</span></code></a></p></td>
<td><p>Class for setting up the remote connection to <cite>wrds-cloud</cite>; largely builds on the <code class="docutils literal notranslate"><span class="pre">Connection</span></code> class in the <a class="reference external" href="https://pypi.org/project/wrds/0.0.5/">WRDS-Py library</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="connecting-to-wrds-cloud">
<h4><a class="toc-backref" href="#id4">Connecting to <code class="docutils literal notranslate"><span class="pre">wrds-cloud</span></code></a><a class="headerlink" href="#connecting-to-wrds-cloud" title="Permalink to this headline">¶</a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect</span></code></p></td>
<td><p>Make a connection to the <cite>wrds-cloud</cite> database.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">close</span></code></p></td>
<td><p>Close the connection to the database.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_wrds_table</span></code></p></td>
<td><p>Create a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> from an entire table in the database.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">raw_sql</span></code></p></td>
<td><p>Query the <cite>wrds-cloud</cite> database using a raw SQL string.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="wrds-cloud-query-tools">
<h4><a class="toc-backref" href="#id5"><code class="docutils literal notranslate"><span class="pre">wrds-cloud</span></code> Query Tools</a><a class="headerlink" href="#wrds-cloud-query-tools" title="Permalink to this headline">¶</a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.queryComp" title="famafrench.FamaFrench.queryComp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">queryComp</span></code></a></p></td>
<td><p>Query Compustat Fundamentals Annual files from <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.queryCrsp" title="famafrench.FamaFrench.queryCrsp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">queryCrsp</span></code></a></p></td>
<td><p>Query CRSP Stock/Security files from <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.queryCrspdlret" title="famafrench.FamaFrench.queryCrspdlret"><code class="xref py py-obj docutils literal notranslate"><span class="pre">queryCrspdlret</span></code></a></p></td>
<td><p>Query CRSP’s Stock Event - Delisting files on <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.queryrf1m" title="famafrench.FamaFrench.queryrf1m"><code class="xref py py-obj docutils literal notranslate"><span class="pre">queryrf1m</span></code></a></p></td>
<td><p>Query the risk-free interest rate (ie 1-month Treasury Bill rate) from <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getCrspDailyRollVar" title="famafrench.FamaFrench.getCrspDailyRollVar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getCrspDailyRollVar</span></code></a></p></td>
<td><p>Calculate rolling <cite>daily</cite> variance of stock returns for all CRSP stocks queried from <cite>wrds-cloud</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.aggregateME" title="famafrench.FamaFrench.aggregateME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aggregateME</span></code></a></p></td>
<td><p>Aggregate market value of equity <strong>me</strong> for cases in which the same firm (ie single <strong>permco</strong> identifer) has two or more securities (ie multiple <strong>permno</strong> identifiers) for a given <strong>date</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getMEDec" title="famafrench.FamaFrench.getMEDec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getMEDec</span></code></a></p></td>
<td><p>Construct market value of equity <strong>me</strong> for Decemeber of every year.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getMEJune" title="famafrench.FamaFrench.getMEJune"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getMEJune</span></code></a></p></td>
<td><p>Construct market value of equity <strong>me</strong> for June of every year.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.mergeCCM" title="famafrench.FamaFrench.mergeCCM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mergeCCM</span></code></a></p></td>
<td><p>Query the CRSP/Compustat (CCM) Merged Linking Table needed to merge CRSP securities to Compustat companies on (<strong>permno</strong>, <strong>gvkey</strong>) identifier pairs.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="estimating-market-betas-and-rolling-residual-variances">
<h4><a class="toc-backref" href="#id6">Estimating Market Betas and Rolling Residual Variances</a><a class="headerlink" href="#estimating-market-betas-and-rolling-residual-variances" title="Permalink to this headline">¶</a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getFactorRegResults" title="famafrench.FamaFrench.getFactorRegResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getFactorRegResults</span></code></a></p></td>
<td><p>Estimate factor-based quantities of risk (specifically, market betas) as well as residuals using rolling regressions.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="constructing-portfolios-and-return-based-factors">
<h4><a class="toc-backref" href="#id7">Constructing Portfolios and Return-Based Factors</a><a class="headerlink" href="#constructing-portfolios-and-return-based-factors" title="Permalink to this headline">¶</a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getNyseThresholdsAndRet" title="famafrench.FamaFrench.getNyseThresholdsAndRet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNyseThresholdsAndRet</span></code></a></p></td>
<td><p>Select NYSE stocks used in the construction of breakpoints (ie thresholds) for portfolio sorting.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getPortfolios" title="famafrench.FamaFrench.getPortfolios"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getPortfolios</span></code></a></p></td>
<td><p>Generalized routine used to construct datasets containing portfolio returns (which may include factor returns), number of firms in each portfolio, or <cite>average</cite> anomaly portfolio characteristics at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getPortfolioReturns" title="famafrench.FamaFrench.getPortfolioReturns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getPortfolioReturns</span></code></a></p></td>
<td><p>Construct dataset w/ portfolio returns (which may include factor returns) at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getNumFirms" title="famafrench.FamaFrench.getNumFirms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNumFirms</span></code></a></p></td>
<td><p>Construct dataset w/ number of firms in each portfolio at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getCharacs" title="famafrench.FamaFrench.getCharacs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getCharacs</span></code></a></p></td>
<td><p>Construct <cite>average</cite> anomaly portfolio characteristics at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getFFfactors" title="famafrench.FamaFrench.getFFfactors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getFFfactors</span></code></a></p></td>
<td><p>Construct dataset w/  Fama-French-style factors at a given frequency and for a given sample period.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="comparing-to-ken-french-s-online-library">
<h4><a class="toc-backref" href="#id8">Comparing to Ken French’s Online Library</a><a class="headerlink" href="#comparing-to-ken-french-s-online-library" title="Permalink to this headline">¶</a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.kfLibrary" title="famafrench.FamaFrench.kfLibrary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kfLibrary</span></code></a></p></td>
<td><p>Generalized routine used to query datasets from Ken French’s online library at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getkfPortfolioReturns" title="famafrench.FamaFrench.getkfPortfolioReturns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getkfPortfolioReturns</span></code></a></p></td>
<td><p>Query portfolio returns from Ken French’s online library at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getkfNumFirms" title="famafrench.FamaFrench.getkfNumFirms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getkfNumFirms</span></code></a></p></td>
<td><p>Query number of firms in each portfolio from Ken French’s online data library at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getkfCharacs" title="famafrench.FamaFrench.getkfCharacs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getkfCharacs</span></code></a></p></td>
<td><p>Query <cite>average</cite> anomaly portfolio characteristics from Ken French’s online library at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getkfFFfactors" title="famafrench.FamaFrench.getkfFFfactors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getkfFFfactors</span></code></a></p></td>
<td><p>Query Fama-French-style factors from Ken French’s online library at a given frequency and for a given sample period.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="summary-statistics-and-diagnostics">
<h4><a class="toc-backref" href="#id9">Summary Statistics and Diagnostics</a><a class="headerlink" href="#summary-statistics-and-diagnostics" title="Permalink to this headline">¶</a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.getFamaFrenchStats" title="famafrench.FamaFrench.getFamaFrenchStats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getFamaFrenchStats</span></code></a></p></td>
<td><p>Detailed summary statistics tables of portfolio returns (which may include factor returns), number of firms in each portfolio, or <cite>average</cite> anomaly portfolio characteristics at a given frequency and for a given sample period.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.FamaFrench.comparePortfolios" title="famafrench.FamaFrench.comparePortfolios"><code class="xref py py-obj docutils literal notranslate"><span class="pre">comparePortfolios</span></code></a></p></td>
<td><p><p>Generalized routine used to compare datasets constructed from <cite>wrds-cloud</cite> queries to their equivalents made publicly available on <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online library</a> at a given frequency and for a given sample period.</p>
</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="auxiliary-functions-and-utilities">
<h4><a class="toc-backref" href="#id10">Auxiliary Functions and Utilities</a><a class="headerlink" href="#auxiliary-functions-and-utilities" title="Permalink to this headline">¶</a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.utils.lru_cached_method" title="famafrench.utils.lru_cached_method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lru_cached_method</span></code></a></p></td>
<td><p>Wrapper for <code class="xref py py-func docutils literal notranslate"><span class="pre">methodtools.lru_cache()</span></code> enabling recognition of <cite>decorated</cite> class instance methods by <a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.utils.get_kfpriorfactors_directly" title="famafrench.utils.get_kfpriorfactors_directly"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_kfpriorfactors_directly</span></code></a></p></td>
<td><p>Directly download (from Ken French’s online library) zipped monthly or annual datafiles for the <cite>Short-Term Reversal</cite> or <cite>Long-Term Reversal</cite> Fama-French-style factors.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.utils.timing" title="famafrench.utils.timing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timing</span></code></a></p></td>
<td><p>Wrapper for class instance methods enabling the timing of execution.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.utils.any_in" title="famafrench.utils.any_in"><code class="xref py py-obj docutils literal notranslate"><span class="pre">any_in</span></code></a></p></td>
<td><p>Boolean variable that is <code class="docutils literal notranslate"><span class="pre">True</span></code> if elements in a given set <cite>a_set</cite> intersect with elements in another set <cite>b_set</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.utils.priormonthToDay" title="famafrench.utils.priormonthToDay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">priormonthToDay</span></code></a></p></td>
<td><p>Consistent w/ Fama and French (2008, 2016), map the prior <cite>(j-k)</cite> monthly return strategy into a daily strategy (see <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online documentation</a>).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.utils.grouped_vwAvg" title="famafrench.utils.grouped_vwAvg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">grouped_vwAvg</span></code></a></p></td>
<td><p>Calculate (net) weighted portfolio return for portfolio with weights <code class="docutils literal notranslate"><span class="pre">col_weights</span></code> within a group or groups.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="index.html#famafrench.utils.portRetAvg" title="famafrench.utils.portRetAvg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">portRetAvg</span></code></a></p></td>
<td><p>Compute a simple average across different columns.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="index.html#famafrench.utils.get_statsTable" title="famafrench.utils.get_statsTable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_statsTable</span></code></a></p></td>
<td><p>Construct detailed tables with summary statistics.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<span id="document-changes/changes"></span><div class="section" id="change-log">
<span id="changes"></span><h3>Change Log<a class="headerlink" href="#change-log" title="Permalink to this headline">¶</a></h3>
<div class="section" id="version-0-beta">
<h4>Version 0 (Beta)<a class="headerlink" href="#version-0-beta" title="Permalink to this headline">¶</a></h4>
<div class="section" id="release-0-1-0">
<h5>Release 0.1.0<a class="headerlink" href="#release-0-1-0" title="Permalink to this headline">¶</a></h5>
<p>The current release (as of April 20, 2020) is the initial release.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="how-to-cite">
<h1>How to Cite<a class="headerlink" href="#how-to-cite" title="Permalink to this headline">¶</a></h1>
<p>This package (and its release as of April 20, 2020) should be cited using Zenodo. For example, for the 0.1.0 release,</p>
<blockquote>
<div><p>[*] Christian Jauregui. (2020, April 20). christianjauregui/famafrench: Release 0.1.0 (Initial Release). Zenodo. <a class="reference external" href="https://sandbox.zenodo.org/record/530634#.XqNbfJNKi_t">https://sandbox.zenodo.org/record/530634#.XqNbfJNKi_t</a></p>
<blockquote>
<div><a class="reference external image-reference" href="https://sandbox.zenodo.org/record/530634#.XqNawZNKi_s"><img alt="https://sandbox.zenodo.org/badge/doi/10.5072/zenodo.530634.svg" src="https://sandbox.zenodo.org/badge/doi/10.5072/zenodo.530634.svg" /></a>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="todo">
<h1><cite>Todo</cite><a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h1>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p><a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s data library documentation</a>
notes the following regarding the construction of their daily portfolio returns:</p>
<ul class="simple">
<li><p><cite>In May 2015, we made two changes in the way we compute daily portfolio returns so the process is closer to the way we compute monthly portfolio returns. In daily files produced in May 2015 or thereafter, stocks are dropped from a portfolio immediately after their CRSP delist date; in files produced before May 2015, those stocks are held until the portfolio is reconstituted, at the end of June. Also, in daily files produced before May 2015 we exclude a stock from portfolios during any period in which it is missing prices for more than 10 consecutive trading no price for more than 200 consecutive trading days.</cite></p></li>
</ul>
<p>Future versions will verify the aforementioned adjustments are accounted for in the package’s construction of daily portfolio returns.</p>
</div>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<ul>
<li><p>Include option to construct the <a class="reference external" href="https://www.sciencedirect.com/science/article/abs/pii/S0304405X18300515">Fama and French (2018)</a> cash-based profitability factor, <code class="docutils literal notranslate"><span class="pre">RMWc</span></code>.</p></li>
<li><p>Within the instance method used for constructing market betas and rolling residual variances, <code class="xref py py-meth docutils literal notranslate"><span class="pre">getFactorResults()</span></code>, extend the <a class="reference external" href="https://www.sciencedirect.com/science/article/abs/pii/0304405X79900138">Dimson (1979)</a> methodology based on <a class="reference external" href="https://www.sciencedirect.com/science/article/abs/pii/0304405X77900411">Scholes and Williams (1977)</a> to other factor quantities of risk beyond the <cite>market (CAPM)</cite> beta (eg, <cite>SMB</cite> and <cite>HML</cite> quantities of risk).</p></li>
<li><p>Verify the <a class="reference external" href="https://pandas-datareader.readthedocs.io/en/latest/">pandas-datareader</a> Python library is still unable to pull monthly and annual datafiles for the <cite>Short-Term Reversal</cite> or <cite>Long-Term Reversal</cite> Fama-French-style factors made public through <a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">Ken French’s online library</a>.</p></li>
<li><p>When applicable, constructed portfolios, specifically portfolio returns, number of firms in each portfolio, and <cite>average</cite> anomaly portfolio characteristics are compared with those provided by Ken French for the same frequency and over the same period. The sample <cite>Pearson correlations</cite>, sample <cite>means</cite>, and sample <cite>standard deviations</cite> for the following portfolios <strong>can be improved</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/det_port_form_dp.html">Portfolios Formed on Dividend Yield</a></p></li>
<li><p><a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/six_portfolios_me_dp.html">6 Portfolios Formed on Size and Dividend Yield</a></p></li>
<li><p><a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/det_port_form_AC.html">Portfolios Formed on Accruals</a></p></li>
<li><p><a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/tw_5_ports_me_AC.html">25 Portfolios Formed on Size and Accruals</a></p></li>
<li><p><a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/det_port_form_BETA.html">Portfolios Formed on Market Beta</a></p></li>
<li><p><a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/tw_5_ports_me_BETA.html">25 Portfolios Formed on Size and Market Beta</a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><p>To improve the statistical metrics, adjustments in how the aforementioned anomaly characteristics are computed or estimated will be incorporated in future releases.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and Tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Christian Jauregui

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>